{"version":3,"sources":["ui/Button.js","ui/Spacing.js","ui/ButtonGroup.js","ui/Menu.js","ui/Dropdown.js","ui/Divider.js","ui/Container.js","ui/Form.js","ui/Resizable.js","ui/Group.js","ui/Box.js","ui/Text.js","components/HomePage.js","modules/pen/view-layout/ViewLayout-icon.js","modules/pen/view-layout/ViewLayout-context.js","modules/pen/view-layout/ChangeViewDropdown.js","modules/pen/contexts/pen-context.js","utils/detectDuplicateObject.js","modules/pen/utils/generatePageUrl.js","modules/pen/contexts/source-url-context.js","modules/pen/hooks/useRun.js","hooks/useFullscreen.js","indexedDB.js","modules/alerts/styled-alerts.js","modules/alerts/AlertsView.js","modules/alerts/AlertsProvider.js","modules/alerts/useCustomAlert.js","modules/pen/contexts/unsaved-changes-context.js","modules/pen/hooks/useSave.js","modules/pen/components/Header.js","modules/pen/hooks/useHandleShortcuts.js","modules/console/contexts/ConsoleToggle-context.js","modules/authentication/contexts/auth-context.js","modules/modal/ModalProvider.js","modules/modal/styled-modal.js","icons/icons.js","modules/modal/ModalHeader.js","modules/pen/add-assets/AssetsMenu.js","modules/pen/add-assets/Fonts.js","modules/pen/add-assets/Images.js","hooks/useOnClickOutside.js","hooks/useFetch.js","modules/pen/add-assets/Assets.js","ui/Input.js","hooks/useDebounce.js","modules/pen/add-libraries/LibraryListItem.js","utils/getTranslateValue.js","modules/pen/add-libraries/Libraries-hooks.js","modules/pen/add-libraries/Libraries.js","modules/pen/components/Footer.js","modules/authentication/hooks/useLogout.js","modules/console/contexts/ConsoleMessages-context.js","modules/console/contexts/CommandLine-context.js","modules/pen/hooks/useHandleIframeMessages.js","modules/pen/components/Output.js","modules/console/styled/styled-Console.js","modules/console/styled/styled-StyleByDataType.js","modules/console/components/FormattedObject.js","modules/console/components/StyleByDataType.js","modules/console/components/ConsoleMessage.js","modules/console/components/CommandLine.js","modules/console/components/Console.js","modules/pen/components/Editor.js","modules/pen/contexts/toggle-output-context.js","modules/pen/components/MobileEditors.js","modules/pen/components/DesktopEditors.js","modules/pen/view-layout/ViewLayout.js","hooks/useDeviceDetect.js","components/404.js","modules/modal/Modal.js","utils/MultiProvider.js","modules/pen/components/Pen.js","modules/authentication/components/PrivateRoute.js","modules/authentication/components/PublicRoute.js","modules/authentication/hooks/useAuthentication.js","modules/authentication/api/auth-api.js","modules/authentication/utils/constants.js","modules/authentication/components/Login.js","modules/authentication/components/Register.js","components/MyWorks.js","components/App.js","ui/GlobalStyle.js","index.js"],"names":["Button","styled","button","props","sm","dense","wide","Spacing","div","m","mx","my","css","mt","mb","mr","ml","p","px","py","pt","pb","pr","pl","ButtonGroupWrapper","attrs","className","ButtonGroup","children","Menu","ul","StyledMenuItem","li","MenuItem","as","icon","rest","style","marginRight","DropdownWrapper","DropdownContent","openFrom","Dropdown","action","nodeRef","useRef","useState","open","setOpen","close","e","current","contains","target","useEffect","window","addEventListener","removeEventListener","ref","cloneElement","onClick","prev","hidden","Divider","hr","orientation","Container","maxWidth","Form","form","FieldGroup","Field","input","Submit","type","ErrorMessage","ResizableContainer","Resizer","StyledResizableItem","ResizableItem","initialSize","dimension","itemWrapperStyle","setProperty","Resizable","minSize","validElements","Children","toArray","ifVertical","ifTrue","ifFalse","resizeStart","e1","applyToAllFrames","callback","i","frames","length","document","body","userSelect","cursor","frameElement","pointerEvents","prevElm","previousSibling","nextElm","nextSibling","startPoint","nativeEvent","handleResize","e2","currentPoint","getBoundingClientRect","movement","newPrevElmSize","newNextElmSize","prevElmSize","nextElmSize","updateElementsSizes","getComputedStyle","getPropertyValue","slice","resize","resizeEnd","frame","map","element","index","onMouseDown","spaceY","spaceX","Box","pos","top","left","right","z","h","w","maxH","maxW","minH","overflow","border","borderT","borderB","borderR","borderL","round","Text","textColor","size","fStyle","weight","lineH","textTransform","truncate","HomeWrapper","HomePage","to","width","alt","src","SvgIcon","svg","rotate","ViewLayoutIcon","fill","height","viewBox","y","x","ViewLayoutContext","createContext","ViewLayoutContextDispatch","useViewLayout","useContext","useViewLayoutDispatch","horizontalTemplate","wrapper","editors","verticalTemplate","viewLayoutReducer","state","ViewLayoutProvider","useReducer","layout","dispatch","Provider","value","ChangeViewDropdown","PenContext","PenContextDispatch","usePen","usePenDispatch","initialPen","title","image","code","html","javascript","libraries","penReducer","payload","filter","library","name","addedLibrary","array","object","key","duplicate","detectDuplicateObject","Error","PenProvider","pen","getGeneratedPageURL","getBlobURL","blob","Blob","URL","createObjectURL","cssURL","jsURL","renderedLibs","fileType","latest","join","source","SourceUrlContext","SourceUrlContextDispatch","SourceUrlProvider","url","setUrl","useRun","useFullscreen","isFullscreen","setIsFullscreen","handler","innerHeight","screen","toggleFullScreen","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","db","Dexie","StyledAlert","variant","StyledAlertWithEffect","AlertsContainer","Alert","removeHandler","d","AlertsView","alerts","setAlerts","TransitionGroup","component","alert","Transition","timeout","options","id","item","message","showAlertDispatch","AlertsProvider","Math","floor","random","newAlert","setTimeout","clearTimeout","useCustomAlert","showAlert","showSuccessAlert","msg","color","faCheckCircle","showWarningAlert","faExclamationCircle","showErrorAlert","UnsavedChanges","UnsavedChangesDispatch","useUnsavedChangesCount","useUnsavedChangesDispatch","UnsavedChangesProvider","changes","setChanges","useSave","unsavedChangesDispatch","pens","update","then","catch","err","console","log","HeaderWrapper","ChangeTitle","Indicator","span","SaveButton","unsavedChanges","in","faSave","Title","displayForm","setDisplayForm","newTitle","setNewTitle","handleChangeTitle","preventDefault","onSubmit","autoFocus","onBlur","onChange","spellCheck","faEdit","ActionsDropDown","run","save","DropdownToggleButton","faAlignJustify","faPlay","faCompress","faExpand","faArrowRight","Link","ActionsBar","Header","handleShortcuts","ctrlKey","keyCode","shiftKey","useHandleShortcuts","toggleConsoleContext","useToggleConsole","ToggleConsoleProvider","isOpen","setIsOpen","toggle","AuthContext","AuthContextDispatch","useAuthData","useAuthDataDispatch","basicState","status","isAuthenticated","data","initialState","JSON","parse","localStorage","getItem","authDataReducer","AuthDataProvider","setItem","stringify","modal","controlModalDispatch","useControlModal","ModalProvider","modalContent","setModalContent","deleteModal","showModal","isValidElement","ModalWindow","show","ModalContent","CloseIcon","faTimes","ModalHeader","onModalClose","MobileItem","DesktopItem","AssetsMenu","changeSection","DisplayFont","font","Description","fonts","Montserrat","Lato","Roboto","Outfit","Nunito","Fonts","rel","href","Object","keys","importString","navigator","clipboard","writeText","copyToClipboard","Category","ImageList","Image","img","ImageMenu","position","categories","ImageBox","urls","setPosition","copyUrl","listener","event","useOnClickOutside","offsetX","offsetY","small","regular","large","ShowCategoryImages","category","backBtnHandler","cache","cancelRequest","error","undefined","a","fetch","response","ok","statusText","json","fetchData","useFetch","faArrowLeft","results","description","thumb","Images","selectedCategory","setSelectedCategory","Assets","openSection","setOpenSection","Input","SearchInput","require","transitionStyles","exiting","opacity","transition","exited","StyledListItem","transform","RemoveFlag","ChangeOrderContainer","ChangeOrderButton","Swipeable","onSwipe","onSwipeEnd","Component","startMousePosition","setMovement","elm","start","move","end","clientX","touches","matrix","webkitTransform","mozTransform","matrixType","includes","matrixValues","match","split","getTranslateValues","onTouchStart","onTouchEnd","onMouseUp","ChangeOrder","changeOrder","b","tmp","useChangeOrder","disabled","faAngleUp","faAngleDown","LibraryListItem","removeEffect","setRemoveEffect","flagRef","remove","useRemoveLibrary","onExited","unmountOnExit","faTrash","SearchResultList","StyledResultItem","ClearSearchBox","SearchResultItem","version","SearchBox","searchText","setSearchText","text","setResults","res","useFetchCDNJs","delay","debouncedValue","setDebouncedValue","useDebounce","add","useAddLibrary","resultList","result","placeholder","AddedLibraries","lib","Libraries","FooterWrapper","Footer","logout","useLogout","ConsoleMessagesContext","ConsoleMessagesContextDispatch","useConsoleMessagesDispatch","initialMessages","consoleMessagesReducer","ConsoleLogsProvider","messages","CommandLineContext","CommandLineContextDispatch","CommandLineProvider","commandReturnedValue","setCommandReturnedValue","useHandleIframeMessages","consoleDispatch","handleIframeMessages","messageType","messageData","pushMessage","OutputWrapper","Iframe","iframe","Output","sandbox","ConsoleTitle","ConsoleBody","StyledConsoleMessage","pre","logType","StyledCommandLine","ReturnedValue","StyledNumber","StyledString","FOExpandButton","FOItemCount","FOItemsList","FormattedObject","showItems","setShowItems","objectKeys","ObjectItemsList","StyleByDataType","faCaretDown","faCaretRight","dataType","isArray","Array","String","ConsoleMessage","dataArray","CommandLine","contentEditable","onKeyDown","innerText","contentWindow","runCommand","Console","EditorWrapper","EditorHeader","Editor","iconSrc","PenDispatch","mode","lang","updateCode","theme","fontSize","ToggleOutput","ToggleOutputDispatch","ToggleOutputProvider","MobileEditors","activeEditor","setActiveEditor","setOpenOutput","DesktopEditors","editorProps","ViewLayout","isDesktop","setIsDesktop","isMobile","setIsMobile","detectDevice","useCallback","innerWidth","useDeviceDetect","consoleOpen","outputOpen","Page404","Modal","nest","MultiProvider","providers","reduceRight","PenContent","content","Pen","params","useLiveQuery","get","Number","PrivateRoute","render","renderProps","PublicRoute","restricted","useAuthentication","userData","Promise","resolve","_","token","REQUIRED_FIELD","VALID_EMAIL","SAFE_PASSWORD","Login","useForm","register","handleSubmit","errors","formState","authentication","htmlFor","required","pattern","autoComplete","email","password","Register","username","WorkLink","WorkBody","WorkInfo","AddNewWorkBtn","Work","imageSrc","delete","faEllipsisH","faCode","AddNewWork","history","useHistory","push","faPlus","MyWorks","works","work","App","exact","path","GlobalStyle","createGlobalStyle","stores","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7e9ed5e0.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Button = styled.button`\n   position: relative;\n   overflow: hidden;\n   background-color: var(--dark-btn);\n   border-radius: 0.3rem;\n   font-size: ${props => (props.sm ? '.7rem' : 'inherit')};\n   &:hover {\n      background-color: var(--dark-bth-hover);\n   }\n\n   &:focus {\n      outline: 0;\n   }\n\n   padding: ${props => {\n      if (props.dense || props.sm) {\n         return '.4rem';\n      } else if (props.wide) {\n         return '.8rem 1.8rem';\n      } else {\n         return '.8rem 1.2rem';\n      }\n   }};\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Spacing = styled.div`\n   margin: ${({ m, mx, my }) => {\n      return m\n         ? m\n         : css`\n              ${my || 0} ${mx || 0}\n           `;\n   }};\n\n   margin-top: ${({ mt }) => mt};\n   margin-bottom: ${({ mb }) => mb};\n   margin-right: ${({ mr }) => mr};\n   margin-left: ${({ ml }) => ml};\n\n   padding: ${({ p, px, py }) => {\n      return p\n         ? p\n         : css`\n              ${py || 0} ${px || 0}\n           `;\n   }};\n\n   padding-top: ${({ pt }) => pt};\n   padding-bottom: ${({ pb }) => pb};\n   padding-right: ${({ pr }) => pr};\n   padding-left: ${({ pl }) => pl};\n`;\n","import styled from 'styled-components';\nimport { Spacing } from './Spacing';\n\nconst ButtonGroupWrapper = styled(Spacing).attrs(() => ({\n   className: 'flex',\n}))`\n   & > * {\n      border-radius: 0;\n      margin: 0 0.8px;\n   }\n   & > *:last-child {\n      border-radius: 0 0.3rem 0.3rem 0;\n   }\n   & > *:first-child {\n      border-radius: 0.3rem 0 0 0.3rem;\n   }\n`;\n\nexport const ButtonGroup = ({ children }) => {\n   return <ButtonGroupWrapper>{children}</ButtonGroupWrapper>;\n};\n","import styled from 'styled-components';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport const Menu = styled.ul`\n   background-color: var(--menu-bg);\n   color: var(--menu-text);\n   min-width: 10rem;\n   border-radius: 0.5rem;\n   padding: 0.5rem 0;\n   font-size: 0.9rem;\n   box-shadow: 0 0 20px -5px #000;\n`;\n\nconst StyledMenuItem = styled.li`\n   display: inline-block;\n   width: 100%;\n   padding: 0.5rem;\n   cursor: pointer;\n\n   &:hover {\n      background-color: var(--menu-item-hover);\n   }\n`;\n\nexport function MenuItem({ as, icon, children, ...rest }) {\n   return (\n      <StyledMenuItem as={as} {...rest}>\n         {icon && (\n            <FontAwesomeIcon style={{ marginRight: '.75rem' }} icon={icon} />\n         )}\n         {children}\n      </StyledMenuItem>\n   );\n}\n","import styled, { css } from 'styled-components';\nimport { cloneElement, useEffect, useRef, useState } from 'react';\n\nconst DropdownWrapper = styled.div`\n   position: relative;\n`;\n\nconst DropdownContent = styled.div`\n   --space: 0.3rem;\n\n   position: absolute;\n   z-index: var(--z-999);\n   background-color: var(--dropdown-bg);\n   border-radius: 0.5rem;\n\n   ${({ openFrom }) => {\n      switch (openFrom) {\n         case 'top':\n            return css`\n               bottom: 100%;\n               right: 0;\n               margin-bottom: var(--space);\n            `;\n         case 'left':\n            return css`\n               right: 100%;\n               bottom: 0;\n               margin-right: var(--space);\n            `;\n         case 'right':\n            return css`\n               left: 100%;\n               bottom: 0;\n               margin-left: var(--space);\n            `;\n         default:\n            return css`\n               top: 100%;\n               right: 0;\n               margin-top: var(--space);\n            `;\n      }\n   }}\n`;\n\nexport function Dropdown({ children, action, openFrom, className }) {\n   const nodeRef = useRef();\n\n   const [open, setOpen] = useState(false);\n\n   function toggle() {\n      setOpen(prev => !prev);\n   }\n\n   function close(e) {\n      if (nodeRef.current && !nodeRef.current?.contains(e.target)) {\n         setOpen(false);\n      }\n   }\n\n   useEffect(() => {\n      window.addEventListener('click', close, true);\n\n      return () => {\n         window.removeEventListener('click', close, true);\n      };\n   }, []);\n\n   return (\n      <DropdownWrapper className={`flex ${className}`} ref={nodeRef}>\n         {cloneElement(action, { onClick: toggle })}\n         <DropdownContent openFrom={openFrom} hidden={!open}>\n            {children}\n         </DropdownContent>\n      </DropdownWrapper>\n   );\n}\n","import styled, { css } from 'styled-components';\n\nexport const Divider = styled.hr`\n   ${({ orientation = 'horizontal' }) => {\n      if (orientation === 'vertical') {\n         return css`\n            transform: rotate(180deg);\n            width: 1px;\n         `;\n      }\n      return css`\n         width: 100%;\n         height: 1px;\n      `;\n   }}\n\n   border: none;\n   margin: 0.3rem 0;\n   background-color: var(--divider-bg);\n`;\n","import styled from 'styled-components';\nimport { Spacing } from './Spacing';\n\nconst Container = styled(Spacing).attrs(() => ({\n   mx: 'auto',\n}))`\n   max-width: ${({ maxWidth = '100%' }) => maxWidth};\n`;\n\nexport { Container };\n","import styled from 'styled-components';\n\n// components related to form\nconst Form = styled.form`\n   background-color: var(--dark-bg);\n   padding: 1.7rem 1rem;\n   border-radius: 0.5rem;\n   border: 4px solid var(--form-border);\n   display: flex;\n   flex-direction: column;\n   gap: 1.2rem;\n`;\n\nexport const FieldGroup = styled.div.attrs(() => ({\n   className: 'flex dir-c gap-2',\n}))``;\n\nconst Field = styled.input`\n   padding: 0.3rem;\n   border-radius: 0.3rem;\n   border: 3px solid var(--field-border);\n   font-weight: 600;\n\n   &:focus {\n      border: 3px solid var(--field-border-focus);\n   }\n`;\n\nconst Submit = styled.input.attrs(() => ({ type: 'submit' }))`\n   cursor: pointer;\n   color: inherit;\n   font-weight: 600;\n   border-radius: 0.3rem;\n   padding: 0.5rem;\n   width: 100%;\n   background-color: var(--form-submit-bg);\n\n   &:disabled {\n      opacity: 0.7;\n      cursor: not-allowed;\n   }\n`;\n\nconst ErrorMessage = styled.div`\n   display: inline-block;\n   color: var(--form-error-text);\n   font-size: 0.8rem;\n`;\n\nexport { Form, Field, Submit, ErrorMessage };\n","import { Fragment, Children, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\n\n// Styles that are necessary for Resizable to work\nconst ResizableContainer = styled.div`\n   display: flex;\n   width: 100%;\n   height: 100%;\n   flex-direction: ${({ orientation }) =>\n      orientation === 'vertical' ? 'column' : 'row'};\n`;\n\nconst Resizer = styled.div.attrs(() => ({\n   className: 'tablet',\n}))`\n   background-color: var(--dark-bg);\n   border: 1px solid var(--dark-border);\n   width: ${({ orientation }) =>\n      orientation === 'vertical' ? '100%' : '1rem'};\n   height: ${({ orientation }) =>\n      orientation === 'vertical' ? '1rem' : '100%'};\n   cursor: ${({ orientation }) =>\n      orientation === 'vertical' ? 'row-resize' : 'col-resize'};\n`;\n\nconst StyledResizableItem = styled.div`\n   overflow: auto;\n   flex-shrink: 1;\n   & > * {\n      height: 100%;\n   }\n`;\n\nfunction ResizableItem({ children, initialSize, dimension }) {\n   const ref = useRef();\n\n   let itemWrapperStyle = {\n      [dimension]: `calc(${initialSize}% + var(--changed-size ,0px))`,\n   };\n\n   // reset css variable when validElements change\n   useEffect(() => {\n      ref.current?.style.setProperty('--changed-size', '0px');\n   }, [initialSize]);\n\n   return (\n      <StyledResizableItem ref={ref} style={itemWrapperStyle}>\n         {children}\n      </StyledResizableItem>\n   );\n}\n\nexport function Resizable({\n   children,\n   minSize = 0,\n   orientation = 'horizontal',\n   ...rest\n}) {\n   let validElements = Children.toArray(children);\n\n   // This function returns attribute names based on orientation.\n   let ifVertical = (ifTrue, ifFalse) =>\n      orientation === 'vertical' ? ifTrue : ifFalse;\n\n   function resize(startPoint, currentPoint, prevElm, nextElm) {\n      // total mouse movement\n      let movement = currentPoint - startPoint;\n\n      function updateElementsSizes({ newPrevElmSize, newNextElmSize }) {\n         let prevElmSize = prevElm[ifVertical('offsetHeight', 'offsetWidth')];\n         let nextElmSize = nextElm[ifVertical('offsetHeight', 'offsetWidth')];\n\n         if (\n            (prevElmSize > minSize && movement < 0) ||\n            (nextElmSize > minSize && movement > 0)\n         ) {\n            prevElm.style.setProperty('--changed-size', newPrevElmSize + 'px');\n            nextElm.style.setProperty('--changed-size', newNextElmSize + 'px');\n         }\n      }\n\n      function calcNewSizes() {\n         // calculate new size\n         let newPrevElmSize =\n            +getComputedStyle(prevElm)\n               .getPropertyValue('--changed-size')\n               .slice(0, -2) + movement;\n\n         let newNextElmSize =\n            +getComputedStyle(nextElm)\n               .getPropertyValue('--changed-size')\n               .slice(0, -2) - movement;\n\n         return { newPrevElmSize, newNextElmSize };\n      }\n\n      updateElementsSizes(calcNewSizes());\n   }\n\n   // start resizing when mouse down on resizer\n   function resizeStart(e1) {\n      function applyToAllFrames(callback) {\n         for (let i = 0; i < window.frames.length; i++) {\n            let frame = window.frames[i];\n            callback(frame);\n         }\n      }\n\n      // Styles applied to the body during resizing\n      document.body.style.userSelect = 'none';\n      document.body.style.cursor = ifVertical('row-resize', 'col-resize');\n      applyToAllFrames(\n         ({ frameElement }) => (frameElement.style.pointerEvents = 'none')\n      );\n\n      let prevElm = e1.target.previousSibling;\n      let nextElm = e1.target.nextSibling;\n\n      // position of mouse in start resizing (when mouse down)\n      let startPoint = e1.nativeEvent[ifVertical('offsetY', 'offsetX')];\n\n      function handleResize(e2) {\n         // calculate position of mouse from left edge (for horizontal) and top (for vertical) of resizer when moving the mouse\n         let currentPoint =\n            e2[ifVertical('clientY', 'clientX')] -\n            e1.target.getBoundingClientRect()[ifVertical('top', 'left')];\n\n         resize(startPoint, currentPoint, prevElm, nextElm);\n      }\n\n      // end resizing when mouse up\n      function resizeEnd() {\n         // remove applied styles\n         document.body.style.userSelect = 'auto';\n         document.body.style.cursor = 'initial';\n         applyToAllFrames(\n            ({ frameElement }) => (frameElement.style.pointerEvents = 'initial')\n         );\n\n         // remove events\n         window.removeEventListener('mousemove', handleResize);\n         window.removeEventListener('mouseup', resizeEnd);\n         // remove events from frames\n         applyToAllFrames(frame => {\n            frame.removeEventListener('mousemove', handleResize);\n            frame.removeEventListener('mouseup', resizeEnd);\n         });\n      }\n\n      // Add events\n      window.addEventListener('mousemove', handleResize);\n      window.addEventListener('mouseup', resizeEnd);\n\n      // Add events to frames\n      applyToAllFrames(frame => {\n         frame.addEventListener('mousemove', handleResize);\n         frame.addEventListener('mouseup', resizeEnd);\n      });\n   }\n\n   return (\n      <ResizableContainer {...rest} orientation={orientation}>\n         {validElements.map((element, index) => (\n            <Fragment key={index}>\n               <ResizableItem\n                  dimension={ifVertical('height', 'width')}\n                  initialSize={100 / validElements.length}\n               >\n                  {element}\n               </ResizableItem>\n\n               {index !== validElements.length - 1 && (\n                  <Resizer\n                     orientation={orientation}\n                     onMouseDown={resizeStart}\n                  />\n               )}\n            </Fragment>\n         ))}\n      </ResizableContainer>\n   );\n}\n","import styled from 'styled-components';\n\nexport const Group = styled.div.attrs(props => ({\n   spaceY: props.spaceY || 0,\n   spaceX: props.spaceX || 0,\n}))`\n   & > * {\n      margin: ${props => props.spaceY}rem ${props => props.spaceX}rem;\n   }\n   margin: -${props => props.spaceY}rem -${props => props.spaceX}rem;\n`;\n","import styled, { css } from 'styled-components';\n// This component handle width , height , border , padding and margin and ...\nexport const Box = styled.div`\n   position: ${({ pos }) => pos};\n   top: ${({ top }) => top};\n   left: ${({ left }) => left};\n   right: ${({ right }) => right};\n   z-index: ${({ z }) => z};\n\n   height: ${({ h }) => h};\n   width: ${({ w }) => w};\n   max-height: ${({ maxH }) => maxH};\n   max-width: ${({ maxW }) => maxW};\n   min-height: ${({ minH }) => minH};\n   overflow: ${({ overflow = 'auto' }) => overflow};\n\n   border: ${({ border }) => border};\n   border-top: ${({ borderT }) => borderT};\n   border-bottom: ${({ borderB }) => borderB};\n   border-right: ${({ borderR }) => borderR};\n   border-left: ${({ borderL }) => borderL};\n   border-radius: ${({ round }) => round};\n\n   margin: ${({ m, mx, my }) => {\n      return m\n         ? m\n         : css`\n              ${my || 0} ${mx || 0}\n           `;\n   }};\n\n   margin-top: ${({ mt }) => mt};\n   margin-bottom: ${({ mb }) => mb};\n   margin-right: ${({ mr }) => mr};\n   margin-left: ${({ ml }) => ml};\n\n   padding: ${({ p, px, py }) => {\n      return p\n         ? p\n         : css`\n              ${py || 0} ${px || 0}\n           `;\n   }};\n\n   padding-top: ${({ pt }) => pt};\n   padding-bottom: ${({ pb }) => pb};\n   padding-right: ${({ pr }) => pr};\n   padding-left: ${({ pl }) => pl};\n`;\n","import styled from 'styled-components';\nimport { Spacing } from './Spacing';\n\nexport const Text = styled(Spacing).attrs(({ as = 'p' }) => ({ as }))`\n   color: ${({ textColor }) => textColor};\n   font-size: ${({ size }) => size};\n   font-style: ${({ fStyle }) => fStyle};\n   font-weight: ${({ weight }) => weight};\n   line-height: ${({ lineH }) => lineH};\n   text-transform: ${({ textTransform }) => textTransform};\n   ${({ truncate }) =>\n      truncate &&\n      `\n      overflow : hidden;\n      text-overflow : ellipsis;\n      white-space: nowrap;\n    `}\n`;\n","import styled from 'styled-components';\nimport { Button, Spacing } from '../ui';\nimport { Link } from 'react-router-dom';\n\nconst HomeWrapper = styled(Spacing).attrs(() => ({\n   className: 'flex dir-c gap-5',\n   pt: '3rem',\n}))`\n   max-width: 80rem;\n   margin: 0 auto;\n`;\n\nfunction HomePage() {\n   return (\n      <HomeWrapper>\n         <div className=\"flex items-center justify-between\">\n            <div className=\"flex inline dir-c\">\n               <h1>Online code editor</h1>\n               <p>online code editor for web development</p>\n            </div>\n\n            <div className=\"flex gap-3\">\n               <Link to=\"/login\">\n                  <Button>Login</Button>\n               </Link>\n\n               <Link to=\"/register\">\n                  <Button>Register</Button>\n               </Link>\n            </div>\n         </div>\n         <Spacing mx=\"auto\">\n            <img\n               width=\"1000px\"\n               alt=\"home-page-img\"\n               src=\"/static/images/home-img.png\"\n            />\n         </Spacing>\n      </HomeWrapper>\n   );\n}\n\nexport default HomePage;\n","import styled from 'styled-components';\n\nconst SvgIcon = styled.svg`\n   transform: rotate(${props => props.rotate}deg);\n`;\n\nfunction ViewLayoutIcon({ rotate = 0 }) {\n   return (\n      <SvgIcon\n         fill=\"#fff\"\n         width=\"15px\"\n         height=\"15px\"\n         viewBox=\"0 0 33 33\"\n         rotate={rotate}\n      >\n         <g>\n            <g>\n               <rect y=\"12\" width=\"33\" height=\"21\" />\n               <rect x=\"12\" width=\"9\" height=\"9\" />\n               <rect x=\"24\" width=\"9\" height=\"9\" />\n               <rect width=\"9\" height=\"9\" />\n            </g>\n         </g>\n      </SvgIcon>\n   );\n}\n\nexport default ViewLayoutIcon;\n","import { createContext, useContext, useReducer } from 'react';\nimport ViewLayoutIcon from './ViewLayout-icon';\n\nconst ViewLayoutContext = createContext();\nconst ViewLayoutContextDispatch = createContext();\n\nexport const useViewLayout = () => useContext(ViewLayoutContext);\nexport const useViewLayoutDispatch = () =>\n   useContext(ViewLayoutContextDispatch);\n\nconst horizontalTemplate = {\n   wrapper: {\n      orientation: 'horizontal',\n   },\n   editors: {\n      orientation: 'vertical',\n   },\n   icon: <ViewLayoutIcon rotate={-90} />,\n};\n\nconst verticalTemplate = {\n   wrapper: {\n      orientation: 'vertical',\n   },\n   editors: {\n      orientation: 'horizontal',\n   },\n   icon: <ViewLayoutIcon />,\n};\n\nfunction viewLayoutReducer(state, action) {\n   let type = action.type;\n   if (type === 'horizontal') return horizontalTemplate;\n   if (type === 'vertical') return verticalTemplate;\n}\n\nexport function ViewLayoutProvider({ children }) {\n   const [layout, dispatch] = useReducer(viewLayoutReducer, horizontalTemplate);\n\n   return (\n      <ViewLayoutContext.Provider value={layout}>\n         <ViewLayoutContextDispatch.Provider value={dispatch}>\n            {children}\n         </ViewLayoutContextDispatch.Provider>\n      </ViewLayoutContext.Provider>\n   );\n}\n\n// Actions\nexport function vertical() {\n   return { type: 'vertical' };\n}\nexport function horizontal() {\n   return { type: 'horizontal' };\n}\n","import {\n   horizontal,\n   useViewLayout,\n   useViewLayoutDispatch,\n   vertical,\n} from './ViewLayout-context';\nimport { Button, ButtonGroup, Dropdown, Spacing } from '../../../ui';\nimport ViewLayoutIcon from './ViewLayout-icon';\n\n// This component change editors and output layout (vertical or horizontal).\n// This features available on Desktop\nexport function ChangeViewDropdown() {\n   const dispatch = useViewLayoutDispatch();\n\n   const { icon } = useViewLayout();\n\n   return (\n      <Dropdown action={<Button>{icon}</Button>}>\n         <Spacing className=\"flex dir-c gap-2\" p=\".5rem\">\n            <h4>Change view</h4>\n            <ButtonGroup>\n               <Button wide onClick={() => dispatch(horizontal())}>\n                  <ViewLayoutIcon rotate={-90} />\n               </Button>\n\n               <Button wide onClick={() => dispatch(vertical())}>\n                  <ViewLayoutIcon />\n               </Button>\n            </ButtonGroup>\n         </Spacing>\n      </Dropdown>\n   );\n}\n","import { createContext, useContext, useReducer } from 'react';\nimport { detectDuplicateObject } from '../../../utils/detectDuplicateObject';\n\nconst PenContext = createContext();\nconst PenContextDispatch = createContext();\n\nexport const usePen = () => useContext(PenContext);\nexport const usePenDispatch = () => useContext(PenContextDispatch);\n\nexport const initialPen = {\n   title: 'Untitled',\n   image: '/static/images/pumpkin.webp',\n   code: { html: '', css: '', javascript: '' },\n   libraries: [],\n};\n\nfunction penReducer(state, action) {\n   switch (action.type) {\n      case 'initialize':\n         return action.payload;\n      case 'html':\n         return { ...state, code: { ...state.code, html: action.payload } };\n      case 'css':\n         return { ...state, code: { ...state.code, css: action.payload } };\n      case 'javascript':\n         return {\n            ...state,\n            code: { ...state.code, javascript: action.payload },\n         };\n      case 'remove-library':\n         return {\n            ...state,\n            libraries: state.libraries.filter(\n               library => library.name !== action.payload.name\n            ),\n         };\n      case 'add-library':\n         // add library if not duplicate\n         let libraries = state.libraries;\n         let addedLibrary = action.payload;\n         if (!detectDuplicateObject(libraries, addedLibrary, 'name'))\n            return {\n               ...state,\n               libraries: [...libraries, addedLibrary],\n            };\n         return state;\n      case 'update-libraries':\n         // get an updated libraries array and set it\n         return {\n            ...state,\n            libraries: action.payload,\n         };\n      case 'title':\n         return { ...state, title: action.payload };\n      default:\n         throw new Error('unexpected context type');\n   }\n}\n\nexport function PenProvider({ children }) {\n   const [pen, dispatch] = useReducer(penReducer, initialPen);\n\n   return (\n      <PenContext.Provider value={pen}>\n         <PenContextDispatch.Provider value={dispatch}>\n            {children}\n         </PenContextDispatch.Provider>\n      </PenContext.Provider>\n   );\n}\n\n// actions\nexport function initialize(payload) {\n   return { type: 'initialize', payload };\n}\n\nexport function changeTitle(payload) {\n   return { type: 'title', payload };\n}\n\nexport function updateCode(lang, code) {\n   return { type: lang, payload: code };\n}\n","/*\n * This function checks whether the given object key is repeated in the array\n * */\n\nexport function detectDuplicateObject(array, object, key) {\n   let duplicate = false;\n   for (let i = 0; i < array.length; i++) {\n      if (array[i][key] === object[key]) duplicate = true;\n   }\n   return duplicate;\n}\n","export const getGeneratedPageURL = (\n   { html = '', css = '', javascript = '' } = {},\n   libraries = []\n) => {\n   const getBlobURL = (code, type) => {\n      const blob = new Blob([code], { type });\n      return URL.createObjectURL(blob);\n   };\n\n   const cssURL = getBlobURL(css, 'text/css');\n   const jsURL = getBlobURL(javascript, 'text/javascript');\n\n   // convert library urls to script ( link ) tag then convert library array to string\n   const renderedLibs = libraries\n      .map(library => {\n         let { fileType, latest } = library;\n\n         if (fileType === 'js') {\n            return `<script src=\"${latest}\"></script>`;\n         }\n         if (fileType === 'css') {\n            return `<link rel=\"stylesheet\" href=\"${latest}\"/>`;\n         }\n         return '';\n      })\n      .join(' ');\n\n   // create document of output iframe\n   const source = `\n    <html lang=\"en\">\n      <head>\n        <title>Output pen</title>\n        <meta charset=\"utf-8\">      \n        <script src='http://localhost:3000/static/libs/handle-iframe-console.js'></script>\n        \n        ${renderedLibs}\n        \n        ${\n           css && `<link rel=\"stylesheet\" type=\"text/css\" href=\"${cssURL}\" />`\n        }   \n      </head>\n      <body >\n        ${html}\n        ${javascript && `<script src=\"${jsURL}\"></script>`} \n      </body>\n    </html>\n  `;\n\n   return getBlobURL(source, 'text/html');\n};\n","import { createContext, useContext, useState } from 'react';\nimport { getGeneratedPageURL } from '../utils/generatePageUrl';\n\n// this context hold url of generated document\nconst SourceUrlContext = createContext();\nconst SourceUrlContextDispatch = createContext();\n\nexport const useSourceUrl = () => useContext(SourceUrlContext);\nexport const useSourceUrlDispatch = () => useContext(SourceUrlContextDispatch);\n\nexport function SourceUrlProvider({ children }) {\n   const [url, setUrl] = useState(getGeneratedPageURL());\n\n   return (\n      <SourceUrlContext.Provider value={url}>\n         <SourceUrlContextDispatch.Provider value={setUrl}>\n            {children}\n         </SourceUrlContextDispatch.Provider>\n      </SourceUrlContext.Provider>\n   );\n}\n","import { usePen } from '../contexts/pen-context';\nimport { useSourceUrlDispatch } from '../contexts/source-url-context';\nimport { getGeneratedPageURL } from '../utils/generatePageUrl';\n\nexport function useRun() {\n   const { code, libraries } = usePen();\n   const setUrl = useSourceUrlDispatch();\n\n   function run() {\n      setUrl(getGeneratedPageURL(code, libraries));\n   }\n\n   return run;\n}\n","import { useEffect, useState } from 'react';\n\nexport function useFullscreen() {\n   const [isFullscreen, setIsFullscreen] = useState(false);\n\n   function toggleFullScreen() {\n      if (!document.fullscreenElement) {\n         document.documentElement.requestFullscreen();\n      } else if (document.exitFullscreen) {\n         document.exitFullscreen();\n      }\n   }\n\n   useEffect(() => {\n      function handler() {\n         if (window.innerHeight === window.screen.height) {\n            setIsFullscreen(true);\n         } else {\n            setIsFullscreen(false);\n         }\n      }\n\n      window.addEventListener('resize', handler);\n\n      return () => {\n         window.removeEventListener('resize', handler);\n      };\n   }, []);\n\n   return { toggleFullScreen, isFullscreen };\n}\n","// we using dexie-js for manage indexedDB\nimport Dexie from 'dexie';\n\n// create new database\nexport const db = new Dexie('codeEditor');\n\n// object stores\nexport const stores = { pens: 'id,title,image,code,libraries' };\n","import styled from 'styled-components';\nimport { Spacing } from '../../ui';\n\nconst StyledAlert = styled(Spacing).attrs(() => ({\n   className: 'flex items-center justify-between gap-3',\n   p: '.5rem .7rem',\n   as: 'li', // render component as li tag\n}))`\n   --selected-color: ${({ variant }) =>\n      variant === 'success'\n         ? 'var(--success)'\n         : variant === 'error'\n         ? 'var(--error)'\n         : variant === 'warning'\n         ? 'var(--warning)'\n         : 'var(--info)'};\n\n   border: 3px solid var(--selected-color);\n   background-color: var(--dark-btn);\n   color: var(--contrast-text);\n   border-radius: 0.3rem;\n   font-size: 0.9rem;\n\n   & > svg:last-of-type {\n      cursor: pointer;\n      fill: #8f8f8f;\n      opacity: 0.8;\n      &:hover {\n         opacity: 1;\n      }\n   }\n`;\n\nconst StyledAlertWithEffect = styled(StyledAlert)`\n   transition: all 0.2s ease;\n\n   opacity: ${({ state }) =>\n      state === 'exiting' || state === 'exited' || state === 'entering'\n         ? 0\n         : 1};\n   transform: translateY(\n      ${({ state }) =>\n         state === 'exiting' || state === 'exited' || state === 'entering'\n            ? -50\n            : 0}px\n   );\n`;\n\nconst AlertsContainer = styled.div`\n   position: fixed;\n   left: 50%;\n   transform: translateX(-50%);\n   width: 25rem;\n   margin: 0.5rem;\n   height: 0 !important;\n   z-index: var(--z-alerts);\n   & > ul {\n      display: flex;\n      flex-flow: wrap column;\n      align-items: center;\n      gap: 0.5rem;\n   }\n`;\n\nexport { AlertsContainer, StyledAlertWithEffect };\n","import { AlertsContainer, StyledAlertWithEffect } from './styled-alerts';\nimport { Transition, TransitionGroup } from 'react-transition-group';\n\nexport function Alert({ state, removeHandler, variant, icon, children }) {\n   return (\n      <StyledAlertWithEffect state={state} variant={variant}>\n         {icon}\n         {children}\n         <svg onClick={removeHandler} viewBox=\"0 0 352 512\" width=\"10\">\n            <path d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\" />\n         </svg>\n      </StyledAlertWithEffect>\n   );\n}\n\nexport function AlertsView({ alerts, setAlerts }) {\n   function removeAlert(id) {\n      setAlerts(prev => {\n         return prev.filter(item => item.id !== id);\n      });\n   }\n\n   return (\n      <AlertsContainer>\n         {/* render list with transition */}\n         <TransitionGroup component=\"ul\">\n            {alerts.map(alert => (\n               <Transition key={alert.id} timeout={200}>\n                  {state => (\n                     // state change: exited -> entering -> entered -> exiting -> exited\n                     <Alert\n                        variant={alert.variant}\n                        state={state}\n                        icon={alert.options.icon}\n                        removeHandler={() => removeAlert(alert.id)}\n                     >\n                        {alert.message}\n                     </Alert>\n                  )}\n               </Transition>\n            ))}\n         </TransitionGroup>\n      </AlertsContainer>\n   );\n}\n","import { createContext, useContext, useState } from 'react';\nimport { AlertsView } from './AlertsView';\n\nconst showAlertDispatch = createContext(null);\nexport const useShowAlert = () => useContext(showAlertDispatch);\n\nexport function AlertsProvider({ children }) {\n   const [alerts, setAlerts] = useState([]);\n\n   function showAlert(variant, message, options = {}) {\n      let id = Math.floor(Math.random() * 100000);\n      // show alert\n      let newAlert = { id, variant, message, options };\n      setAlerts(prev => [...prev, newAlert]);\n      // delete alert after delay\n      let timeout = setTimeout(() => {\n         setAlerts(prev => {\n            return prev.filter(item => item.id !== id);\n         });\n         clearTimeout(timeout);\n      }, 4000);\n   }\n\n   return (\n      <showAlertDispatch.Provider value={showAlert}>\n         <AlertsView alerts={alerts} setAlerts={setAlerts} />\n\n         {children}\n      </showAlertDispatch.Provider>\n   );\n}\n","import { useShowAlert } from './AlertsProvider';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n   faCheckCircle,\n   faExclamationCircle,\n} from '@fortawesome/free-solid-svg-icons';\n\nexport function useCustomAlert() {\n   const showAlert = useShowAlert();\n\n   function showSuccessAlert(msg) {\n      showAlert('success', msg, {\n         icon: (\n            <FontAwesomeIcon size=\"lg\" color=\"#37F900\" icon={faCheckCircle} />\n         ),\n      });\n   }\n\n   function showWarningAlert(msg) {\n      showAlert('warning', msg, {\n         icon: (\n            <FontAwesomeIcon\n               size=\"lg\"\n               color=\"#fbc803\"\n               icon={faExclamationCircle}\n            />\n         ),\n      });\n   }\n\n   function showErrorAlert(msg) {\n      showAlert('error', msg, {\n         icon: (\n            <FontAwesomeIcon\n               size=\"lg\"\n               color=\"#fbc803\"\n               icon={faExclamationCircle}\n            />\n         ),\n      });\n   }\n\n   // other alert type ...\n\n   return { showSuccessAlert, showWarningAlert, showErrorAlert };\n}\n","import { createContext, useContext, useState } from 'react';\n\nconst UnsavedChanges = createContext();\nconst UnsavedChangesDispatch = createContext();\n\nexport const useUnsavedChangesCount = () => useContext(UnsavedChanges);\nexport const useUnsavedChangesDispatch = () =>\n   useContext(UnsavedChangesDispatch);\n\nexport function UnsavedChangesProvider({ children }) {\n   const [changes, setChanges] = useState(0);\n\n   return (\n      <UnsavedChanges.Provider value={changes}>\n         <UnsavedChangesDispatch.Provider value={setChanges}>\n            {children}\n         </UnsavedChangesDispatch.Provider>\n      </UnsavedChanges.Provider>\n   );\n}\n","import { db } from '../../../indexedDB';\nimport { usePen } from '../contexts/pen-context';\nimport { useCustomAlert } from '../../alerts/useCustomAlert';\nimport { useUnsavedChangesDispatch } from '../contexts/unsaved-changes-context';\n\nexport function useSave() {\n   const pen = usePen();\n   const { showSuccessAlert } = useCustomAlert();\n   const unsavedChangesDispatch = useUnsavedChangesDispatch();\n\n   return function () {\n      // update pen\n      db.pens\n         .update(pen.id, pen)\n         .then(() => {\n            // show success alert\n            showSuccessAlert('Pen saved');\n            // set unsaved changes to 0 after save\n            unsavedChangesDispatch(0);\n         })\n         .catch(err => {\n            console.log(err);\n         });\n   };\n}\n","import styled from 'styled-components';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Transition } from 'react-transition-group';\nimport { ChangeViewDropdown } from '../view-layout/ChangeViewDropdown';\nimport { Button, Divider, Dropdown, Menu, MenuItem, Text } from '../../../ui';\nimport { useRun } from '../hooks/useRun';\nimport { useFullscreen } from '../../../hooks/useFullscreen';\nimport { changeTitle, usePen, usePenDispatch } from '../contexts/pen-context';\nimport { useSave } from '../hooks/useSave';\nimport { useUnsavedChangesCount } from '../contexts/unsaved-changes-context';\n\n// icons\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n   faAlignJustify,\n   faArrowRight,\n   faCompress,\n   faEdit,\n   faExpand,\n   faPlay,\n   faSave,\n} from '@fortawesome/free-solid-svg-icons';\nimport { useHandleShortcuts } from '../hooks/useHandleShortcuts';\n\nconst HeaderWrapper = styled.div`\n   display: flex;\n   align-items: center;\n   justify-content: space-between;\n   height: 4rem;\n   padding: 0.5rem 0.75rem;\n   border-bottom: 1px solid var(--dark-border);\n`;\n\nconst ChangeTitle = styled.input`\n   background-color: inherit;\n   color: inherit;\n   font-weight: 700;\n   width: 150px;\n`;\n\nconst Indicator = styled.span`\n   position: absolute;\n   top: 0;\n   left: 0;\n   height: 0.3rem;\n   background-color: var(--warning);\n   transition: width 0.2s ease-out;\n\n   // transition effect\n   width: ${({ state }) =>\n      state === 'exiting' || state === 'exited' || state === 'entering'\n         ? 0\n         : '100%'};\n`;\n\nfunction SaveButton(props) {\n   const unsavedChanges = useUnsavedChangesCount();\n\n   return (\n      <Button {...props}>\n         <Transition in={unsavedChanges > 10} timeout={200}>\n            {state => <Indicator state={state} />}\n         </Transition>\n\n         <FontAwesomeIcon icon={faSave} />\n      </Button>\n   );\n}\n\nfunction Title() {\n   const dispatch = usePenDispatch();\n   const { title } = usePen();\n\n   const [displayForm, setDisplayForm] = useState(false);\n   const [newTitle, setNewTitle] = useState(title); // handle title input\n\n   function activeChangeTitleInput() {\n      setDisplayForm(true);\n   }\n   function disableChangeTitleInput() {\n      setDisplayForm(false);\n   }\n   function handleChangeTitle(e) {\n      e.preventDefault();\n      dispatch(changeTitle(newTitle));\n      disableChangeTitleInput();\n   }\n\n   if (displayForm) {\n      return (\n         <form onSubmit={handleChangeTitle}>\n            <ChangeTitle\n               autoFocus\n               onBlur={handleChangeTitle}\n               type=\"text\"\n               value={newTitle}\n               onChange={e => setNewTitle(e.target.value)}\n               spellCheck=\"false\"\n            />\n         </form>\n      );\n   }\n\n   return (\n      <Text as=\"h1\" size=\"1rem\">\n         {title}{' '}\n         <FontAwesomeIcon\n            style={{ cursor: 'pointer' }}\n            size=\"sm\"\n            onClick={activeChangeTitleInput}\n            icon={faEdit}\n         />\n      </Text>\n   );\n}\n\n// Actions dropdown menu for mobile\nfunction ActionsDropDown() {\n   const run = useRun();\n   const save = useSave();\n\n   const { toggleFullScreen, isFullscreen } = useFullscreen();\n\n   const DropdownToggleButton = (\n      <Button title=\"Actions\">\n         <FontAwesomeIcon icon={faAlignJustify} />\n      </Button>\n   );\n\n   return (\n      <Dropdown className=\"mobile\" action={DropdownToggleButton}>\n         <Menu>\n            <MenuItem icon={faSave} onClick={save}>\n               Save Ctrl+S\n            </MenuItem>\n            <MenuItem icon={faPlay} onClick={run}>\n               Run Shift+F10\n            </MenuItem>\n            <MenuItem\n               icon={isFullscreen ? faCompress : faExpand}\n               onClick={toggleFullScreen}\n            >\n               Full screen\n            </MenuItem>\n            <MenuItem icon={faArrowRight} component={Link} to=\"/my-works\">\n               Go to works\n            </MenuItem>\n         </Menu>\n      </Dropdown>\n   );\n}\n\n// Actions bar for desktop and tablet\nfunction ActionsBar() {\n   const run = useRun();\n   const save = useSave();\n\n   const { toggleFullScreen, isFullscreen } = useFullscreen();\n\n   return (\n      <div className=\"flex gap-2 tablet\">\n         <SaveButton onClick={save} title=\"Save Ctrl+S\" />\n\n         <Button onClick={run} title=\"Run Shift+F10\">\n            <FontAwesomeIcon color=\"#37F900\" icon={faPlay} />\n         </Button>\n\n         <Divider orientation=\"vertical\" />\n\n         <Button onClick={toggleFullScreen} title=\"Full screen F11\">\n            <FontAwesomeIcon icon={isFullscreen ? faCompress : faExpand} />\n         </Button>\n\n         <ChangeViewDropdown />\n\n         <Divider orientation=\"vertical\" />\n\n         <Link to=\"/my-works\">\n            <Button title=\"Back to my works\">\n               <FontAwesomeIcon icon={faArrowRight} />\n            </Button>\n         </Link>\n      </div>\n   );\n}\n\nconst Header = () => {\n   useHandleShortcuts();\n\n   return (\n      <HeaderWrapper>\n         <div className=\"flex items-center gap-2\">\n            <img\n               src=\"/static/images/logo.png\"\n               width=\"28px\"\n               height=\"28px\"\n               alt=\"website-logo\"\n            />\n            <Title />\n         </div>\n\n         <ActionsDropDown />\n         <ActionsBar />\n      </HeaderWrapper>\n   );\n};\n\nexport default Header;\n","import { useRun } from './useRun';\nimport { useSave } from './useSave';\nimport { useEffect } from 'react';\n\n// This hook handle shortcuts\nexport function useHandleShortcuts() {\n   const run = useRun();\n   const save = useSave();\n\n   useEffect(() => {\n      function handleShortcuts(e) {\n         if (e.ctrlKey && e.keyCode === 83) {\n            // Ctrl + S ==> pen saved\n            e.preventDefault();\n            save();\n         } else if (e.shiftKey && e.keyCode === 121) {\n            // Shift + F10 ==> run code\n            e.preventDefault();\n            run();\n         }\n      }\n      window.addEventListener('keydown', handleShortcuts);\n      return () => {\n         window.removeEventListener('keydown', handleShortcuts);\n      };\n   }, [run, save]);\n}\n","import { createContext, useContext, useState } from 'react';\n\nconst toggleConsoleContext = createContext(null);\n\nexport const useToggleConsole = () => useContext(toggleConsoleContext);\n\nexport function ToggleConsoleProvider({ children }) {\n   const [isOpen, setIsOpen] = useState(false);\n\n   function toggle() {\n      setIsOpen(prev => !prev);\n   }\n\n   return (\n      <toggleConsoleContext.Provider value={{ isOpen, toggle }}>\n         {children}\n      </toggleConsoleContext.Provider>\n   );\n}\n","import { createContext, useContext, useEffect, useReducer } from 'react';\n\nconst AuthContext = createContext(null);\nconst AuthContextDispatch = createContext(null);\n\nexport const useAuthData = () => useContext(AuthContext);\nexport const useAuthDataDispatch = () => useContext(AuthContextDispatch);\n\nconst basicState = {\n   status: 'idle',\n   isAuthenticated: false,\n   data: {},\n};\n\nconst initialState = JSON.parse(localStorage.getItem('user')) || basicState;\n\nfunction authDataReducer(state, action) {\n   switch (action.type) {\n      case 'loading':\n         return {\n            ...state,\n            status: 'loading',\n         };\n      case 'error':\n         return {\n            ...state,\n            status: 'error',\n         };\n      case 'success':\n         return {\n            status: 'success',\n            isAuthenticated: true,\n            data: action.payload,\n         };\n      case 'logout':\n         return basicState;\n      default:\n         throw new Error('unexpected type');\n   }\n}\n\nexport function AuthDataProvider({ children }) {\n   const [data, dispatch] = useReducer(authDataReducer, initialState);\n\n   useEffect(() => {\n      localStorage.setItem('user', JSON.stringify(data));\n   }, [data]);\n\n   return (\n      <AuthContext.Provider value={data}>\n         <AuthContextDispatch.Provider value={dispatch}>\n            {children}\n         </AuthContextDispatch.Provider>\n      </AuthContext.Provider>\n   );\n}\n\n// actions\nexport function loading() {\n   return { type: 'loading' };\n}\n\nexport function error() {\n   return { type: 'error' };\n}\n\nexport function success(payload) {\n   return { type: 'success', payload };\n}\n\nexport function logout(payload) {\n   return { type: 'logout', payload };\n}\n","import { createContext, isValidElement, useContext, useState } from 'react';\n\nconst modal = createContext(null);\nconst controlModalDispatch = createContext(null);\n\n// using this hooks for access context value\nexport const useModal = () => useContext(modal);\nexport const useControlModal = () => useContext(controlModalDispatch);\n\n// This component provide modal container and context for hold modal content\nexport function ModalProvider({ children }) {\n   const [modalContent, setModalContent] = useState(null);\n\n   function showModal(component) {\n      if (isValidElement(component)) setModalContent(component);\n   }\n   function deleteModal() {\n      setModalContent(null);\n   }\n\n   return (\n      <controlModalDispatch.Provider value={{ deleteModal, showModal }}>\n         <modal.Provider value={modalContent}>{children}</modal.Provider>\n      </controlModalDispatch.Provider>\n   );\n}\n","import styled from 'styled-components';\nimport { Spacing } from '../../ui';\n\nexport const ModalWindow = styled(Spacing).attrs(() => ({\n   className: 'flex justify-center items-center',\n   p: '1rem',\n}))`\n   position: fixed;\n   inset: 0;\n   z-index: var(--z-999);\n   background-color: var(--dark-bg-transparent);\n   // show modal if there is content\n   display: ${({ show }) => !show && 'none'};\n`;\n\nexport const ModalContent = styled.div`\n   display: flex;\n   flex-direction: column;\n   gap: 0.5rem;\n   background-color: var(--paper);\n   border: 3px solid var(--paper-border);\n   border-radius: 0.3rem;\n   width: 100%;\n   max-width: 50rem;\n   padding: 0.75rem;\n`;\n","import { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n// This file export useful icons\n\nexport const CloseIcon = props => <FontAwesomeIcon {...props} icon={faTimes} />;\n","import { Button, Divider } from '../../ui';\nimport { useControlModal } from './ModalProvider';\nimport { CloseIcon } from '../../icons/icons';\n\nfunction ModalHeader({ title, onModalClose }) {\n   const { deleteModal } = useControlModal();\n\n   function handleClose() {\n      deleteModal();\n      if (typeof onModalClose === 'function') onModalClose();\n   }\n\n   return (\n      <>\n         <div className=\"flex justify-between\">\n            <h2>{title}</h2>\n\n            <Button sm onClick={handleClose}>\n               <CloseIcon />\n            </Button>\n         </div>\n\n         <Divider />\n      </>\n   );\n}\n\nexport default ModalHeader;\n","import styled from 'styled-components';\nimport { Box } from '../../../ui';\n\nconst MobileItem = styled(Box).attrs(() => ({\n   p: '.25rem .5rem',\n   round: '.25rem',\n}))`\n   cursor: pointer;\n   transition: color 0.2s ease;\n   &:hover {\n      color: var(--info);\n   }\n`;\nconst DesktopItem = styled(Box).attrs(() => ({\n   as: 'li',\n   p: '.5rem',\n   mb: '.5rem',\n}))`\n   overflow: hidden;\n   position: relative;\n   cursor: pointer;\n   // implement hover effect\n   transition: border-left 0.2s ease-out;\n   border-left: 0 solid var(--info);\n   &:hover {\n      border-left: thick solid var(--info);\n   }\n   &:before {\n      content: ' ';\n      width: 50px;\n      height: 50px;\n      position: absolute;\n      background-color: var(--info);\n      opacity: 0.4;\n      bottom: 100%;\n      right: 100%;\n      transform: scale(0);\n      border-radius: 50%;\n      transition: transform 0.3s ease-out;\n   }\n   &:hover:before {\n      transform: scale(12);\n   }\n`;\n// This component render assets menu responsively\nfunction AssetsMenu({ changeSection }) {\n   return (\n      <>\n         {/* for mobile */}\n         <div className=\"mobile flex\">\n            <MobileItem onClick={() => changeSection(0)}>Fonts</MobileItem>\n            <MobileItem onClick={() => changeSection(1)}>Images</MobileItem>\n         </div>\n\n         {/* for desktop */}\n         <Box as=\"ul\" w=\"100%\" className=\"tablet\">\n            <DesktopItem onClick={() => changeSection(0)}>Fonts</DesktopItem>\n            <DesktopItem onClick={() => changeSection(1)}>Images</DesktopItem>\n         </Box>\n      </>\n   );\n}\n\nexport default AssetsMenu;\n","import styled from 'styled-components';\nimport { Spacing } from '../../../ui';\nimport { useCustomAlert } from '../../alerts/useCustomAlert';\n\nconst DisplayFont = styled(Spacing).attrs(() => ({\n   as: 'li',\n   p: '.25rem .5rem',\n}))`\n   background-color: var(--dark-btn);\n   border-radius: 0.2rem;\n   cursor: pointer;\n   line-height: 1.8;\n\n   &:nth-child(2n + 1) {\n      background-color: transparent;\n   }\n   & > * {\n      font-family: '${({ font }) => font}';\n   }\n`;\n\nexport const Description = styled.p`\n   font-style: italic;\n   font-size: 0.9rem;\n   padding-bottom: 0.5rem;\n   line-height: 1.8;\n\n   & > a {\n      color: var(--info);\n   }\n`;\n\n// provided fonts url (google font)\nconst fonts = {\n   'Open Sans':\n      'https://fonts.googleapis.com/css2?family=Open+Sans&display=swap',\n   Montserrat:\n      'https://fonts.googleapis.com/css2?family=Montserrat&display=swap',\n   Lato: 'https://fonts.googleapis.com/css2?family=Lato&display=swap',\n   Roboto: 'https://fonts.googleapis.com/css2?family=Roboto&display=swap',\n   Outfit: 'https://fonts.googleapis.com/css2?family=Outfit&display=swap',\n   Nunito: 'https://fonts.googleapis.com/css2?family=Nunito&display=swap',\n};\n\n// This component provide some popular google fonts for use in pen\nfunction Fonts() {\n   const { showSuccessAlert } = useCustomAlert();\n\n   function copyToClipboard(font) {\n      let importString = '@import url(' + font + ');';\n      navigator.clipboard.writeText(importString).then(() => {\n         showSuccessAlert('@import expression copied to clipboard');\n      });\n   }\n\n   return (\n      <ul className=\"flex dir-c gap-3\">\n         <Description>\n            Some popular font provided from{' '}\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://fonts.google.com\">\n               Google fonts\n            </a>\n         </Description>\n\n         {Object.keys(fonts).map((font, index) => (\n            <DisplayFont\n               onClick={() => copyToClipboard(fonts[font])}\n               key={index}\n               font={font}\n            >\n               {/* declare font */}\n               <style>{`@import url(${fonts[font]});`}</style>\n\n               {/* show font demo */}\n               <h2>{font}</h2>\n               <p>Lorem ipsum dolor sit amet, consectetur</p>\n            </DisplayFont>\n         ))}\n      </ul>\n   );\n}\n\nexport default Fonts;\n","import styled from 'styled-components';\nimport { Box, Button, Menu, MenuItem } from '../../../ui';\nimport { useRef, useState } from 'react';\nimport { useFetch } from '../../../hooks/useFetch';\nimport { Description } from './Fonts';\nimport { useOnClickOutside } from '../../../hooks/useOnClickOutside';\nimport { useCustomAlert } from '../../alerts/useCustomAlert';\n\n//icons\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\n\nconst Category = styled(Box).attrs(() => ({\n   as: Button,\n   py: '1.8rem',\n   className: 'f-item m4',\n}))``;\n\nconst ImageList = styled(Box)`\n   column-count: 2;\n   column-gap: 1rem;\n   position: relative;\n\n   @media screen and (max-width: 601px) {\n      column-count: 1;\n   }\n`;\n\nconst Image = styled.img`\n   cursor: pointer;\n   margin-top: 1rem;\n   width: 100%;\n   height: 100%;\n   object-fit: contain;\n   border-radius: 0.2rem;\n`;\n\nconst ImageMenu = styled(Box).attrs(({ position }) => ({\n   as: Menu,\n   z: 'var(--z-999)',\n   pos: 'absolute',\n   maxW: '10rem',\n   style: {\n      top: position?.y,\n      left: position?.x,\n   },\n}))`\n   display: ${({ position }) => (position ? 'revert' : 'none')};\n`;\n\nconst categories = [\n   'Nature',\n   'Food & Drink',\n   'Travel',\n   'Animals',\n   'Arts & Culture',\n   'History',\n   'Fashion',\n   'Wallpapers',\n];\n\n// unsplash api access key and url ( this api only work with vpn in iran )\nconst key = 'zXYXV5KoyYvsqVLI2mJvoez1Dd-cK5f3SMqmSOpm3kY';\nconst url = `https://api.unsplash.com/search/photos/?client_id=${key}`;\n\n// This component render image thumbnail and action menu\nfunction ImageBox({ urls, ...rest }) {\n   const ref = useRef();\n\n   const [position, setPosition] = useState(null);\n\n   const { showSuccessAlert } = useCustomAlert();\n\n   // display menu\n   function showMenu(e) {\n      // update menu position\n      setPosition({\n         x: e.nativeEvent.offsetX + 'px',\n         y: e.nativeEvent.offsetY + 'px',\n      });\n   }\n\n   // close menu when click outside box\n   useOnClickOutside(ref, () => setPosition(null));\n\n   function copyUrl(url) {\n      navigator.clipboard\n         .writeText(url)\n         .then(() => showSuccessAlert('url of image copied to clipboard'));\n   }\n\n   return (\n      <Box ref={ref} overflow=\"visible\" pos=\"relative\">\n         <Image onClick={showMenu} {...rest} />\n\n         <ImageMenu position={position}>\n            <MenuItem onClick={() => copyUrl(urls.small)}>Small</MenuItem>\n            <MenuItem onClick={() => copyUrl(urls.regular)}>Regular</MenuItem>\n            <MenuItem onClick={() => copyUrl(urls.large)}>Large</MenuItem>\n         </ImageMenu>\n      </Box>\n   );\n}\n\n// This component fetch image from api and display its\nfunction ShowCategoryImages({ category, backBtnHandler }) {\n   const { data } = useFetch(url + '&query=' + category);\n\n   return (\n      <>\n         <Button sm onClick={backBtnHandler}>\n            <FontAwesomeIcon icon={faArrowLeft} /> Back\n         </Button>\n         <ImageList>\n            {data &&\n               data.results.map(image => (\n                  <ImageBox\n                     key={image.id}\n                     alt={image.description}\n                     src={image.urls.thumb}\n                     urls={image.urls}\n                  />\n               ))}\n         </ImageList>\n      </>\n   );\n}\n\n/*\n *  This component render categories if no selected category and\n *  display image list if category is selected\n * */\nexport function Images() {\n   const [selectedCategory, setSelectedCategory] = useState(null);\n\n   if (!selectedCategory)\n      // render category list\n      return (\n         <>\n            <Description>\n               Images provided from{' '}\n               <a href=\"https://unsplash.com\" target=\"_blank\" rel=\"noreferrer\">\n                  unsplash\n               </a>\n               <br />\n               <span>*Note : please turn on vpn for using</span>\n            </Description>\n            <Box mt=\"1rem\" className=\"flex gap-2 wrap\">\n               {categories.map((category, index) => (\n                  <Category\n                     onClick={() => setSelectedCategory(category)}\n                     key={index}\n                  >\n                     {category}\n                  </Category>\n               ))}\n            </Box>\n         </>\n      );\n   // render image list\n   else\n      return (\n         <ShowCategoryImages\n            category={selectedCategory}\n            backBtnHandler={() => setSelectedCategory(null)}\n         />\n      );\n}\n","import { useEffect } from 'react';\n\nexport function useOnClickOutside(ref, handler) {\n   useEffect(\n      () => {\n         const listener = event => {\n            // Do nothing if clicking ref's element or descendent elements\n            if (!ref.current || ref.current.contains(event.target)) {\n               return;\n            }\n            handler(event);\n         };\n         document.addEventListener('mousedown', listener);\n         document.addEventListener('touchstart', listener);\n         return () => {\n            document.removeEventListener('mousedown', listener);\n            document.removeEventListener('touchstart', listener);\n         };\n      },\n      // Add ref and handler to effect dependencies\n      // It's worth noting that because passed in handler is a new ...\n      // ... function on every render that will cause this effect ...\n      // ... callback/cleanup to run every render. It's not a big deal ...\n      // ... but to optimize you can wrap handler in useCallback before ...\n      // ... passing it into this hook.\n      [ref, handler]\n   );\n}\n","import { useEffect, useReducer, useRef } from 'react';\n\nexport function useFetch(url, options) {\n   const cache = useRef({});\n\n   // Used to prevent state update if the component is unmounted\n   const cancelRequest = useRef(false);\n\n   const initialState = {\n      error: undefined,\n      data: undefined,\n   };\n\n   // Keep state logic separated\n   const fetchReducer = (state, action) => {\n      switch (action.type) {\n         case 'loading':\n            return { ...initialState };\n         case 'fetched':\n            return { ...initialState, data: action.payload };\n         case 'error':\n            return { ...initialState, error: action.payload };\n         default:\n            return state;\n      }\n   };\n\n   const [state, dispatch] = useReducer(fetchReducer, initialState);\n\n   useEffect(() => {\n      // Do nothing if the url is not given\n      if (!url) return;\n\n      const fetchData = async () => {\n         dispatch({ type: 'loading' });\n\n         // If a cache exists for this url, return it\n         if (cache.current[url]) {\n            dispatch({ type: 'fetched', payload: cache.current[url] });\n            return;\n         }\n\n         try {\n            const response = await fetch(url, options);\n            if (!response.ok) {\n               throw new Error(response.statusText);\n            }\n\n            const data = await response.json();\n            cache.current[url] = data;\n            if (cancelRequest.current) return;\n\n            dispatch({ type: 'fetched', payload: data });\n         } catch (error) {\n            if (cancelRequest.current) return;\n\n            dispatch({ type: 'error', payload: error });\n         }\n      };\n\n      void fetchData();\n\n      // Use the cleanup function for avoiding a possibly...\n      // ...state update after the component was unmounted\n      return () => {\n         cancelRequest.current = true;\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n   }, [url]);\n\n   return state;\n}\n","import { ModalContent } from '../../modal/styled-modal';\nimport ModalHeader from '../../modal/ModalHeader';\nimport { Box } from '../../../ui';\nimport { useState } from 'react';\nimport AssetsMenu from './AssetsMenu';\nimport Fonts from './Fonts';\nimport { Images } from './Images';\n\n// This component ( module ) is for managing assets (fonts, images , ...) and is displayed as a modal\nfunction Assets() {\n   const [openSection, setOpenSection] = useState(0);\n\n   return (\n      <ModalContent>\n         <ModalHeader title=\"Assets\" />\n         {/* Modal body */}\n         <div className=\"flex responsive gap-4\">\n            <Box px=\".5rem\" className=\"f-item m4 flex inline gap-2\">\n               <AssetsMenu changeSection={setOpenSection} />\n            </Box>\n\n            <Box h=\"26rem\" px=\".5rem\" className=\"f-item m8\">\n               {openSection === 0 && <Fonts />}\n               {openSection === 1 && <Images />}\n            </Box>\n         </div>\n      </ModalContent>\n   );\n}\n\nexport default Assets;\n","import styled from 'styled-components';\n\nexport const Input = styled.input`\n   width: 100%;\n   min-height: 3rem;\n   padding: 0 1rem;\n   border-radius: 0.25rem;\n   background-color: var(--input-bg);\n`;\n\nexport const SearchInput = styled(Input)`\n   z-index: var(--z-10);\n   box-shadow: var(--shadow);\n`;\n","const { useEffect, useState } = require('react');\n\nexport function useDebounce(value, delay) {\n   // State and setters for debounced value\n   const [debouncedValue, setDebouncedValue] = useState(value);\n   useEffect(\n      () => {\n         // Update debounced value after delay\n         const handler = setTimeout(() => {\n            setDebouncedValue(value);\n         }, delay);\n         // Cancel the timeout if value changes (also on delay change or unmount)\n         // This is how we prevent debounced value from updating if value is changed ...\n         // .. within the delay period. Timeout gets cleared and restarted.\n         return () => {\n            clearTimeout(handler);\n         };\n      },\n      [value, delay] // Only re-call effect if value or delay changes\n   );\n   return debouncedValue;\n}\n","import styled from 'styled-components';\nimport { useRef, useState } from 'react';\nimport { useChangeOrder, useRemoveLibrary } from './Libraries-hooks';\nimport { Box, Text } from '../../../ui';\nimport { Transition } from 'react-transition-group';\nimport { getTranslateValues } from '../../../utils/getTranslateValue';\n\n// icons\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n   faAngleDown,\n   faAngleUp,\n   faTrash,\n} from '@fortawesome/free-solid-svg-icons';\n\nconst transitionStyles = {\n   exiting: { opacity: 0, transition: 'opacity 300ms ease-in-out' },\n   exited: { opacity: 0, transition: 'opacity 300ms ease-in-out' },\n};\n\nconst StyledListItem = styled(Text).attrs(() => ({\n   truncate: true,\n   textColor: 'var(--black)',\n   lineH: '3rem',\n   style: {\n      transform: 'translate3d(0 , 0 , 0)',\n   },\n}))`\n   position: relative;\n   width: 100%;\n   min-height: 3rem;\n   padding: 0 2.5rem 0 1rem;\n   border-radius: 0.25rem;\n   background-color: var(--input-bg);\n   cursor: move;\n   user-select: none;\n   transition: transform 300ms ease-out;\n`;\n\nconst RemoveFlag = styled.span`\n   display: flex;\n   align-items: center;\n   flex-direction: row-reverse;\n   padding-right: 1rem;\n   background-color: var(--error);\n   position: absolute;\n   inset: 0;\n`;\n\nconst ChangeOrderContainer = styled.span`\n   position: absolute;\n   top: 0;\n   right: 0;\n   height: 100%;\n   padding-right: 1rem;\n   display: flex;\n   flex-direction: column;\n   justify-content: center;\n   color: var(--black);\n   opacity: 0.4;\n   cursor: pointer;\n`;\n\nconst ChangeOrderButton = styled.button`\n   display: inline-block;\n   height: 1rem;\n   line-height: 1rem;\n\n   &[disabled] {\n      opacity: 0.2;\n      cursor: auto;\n   }\n`;\n\nfunction Swipeable({ onSwipe, onSwipeEnd, children, component: Component }) {\n   const startMousePosition = useRef();\n   const ref = useRef();\n\n   function setMovement(elm, value) {\n      elm.style.setProperty('transform', `translate3d(${value}, 0,0)`);\n   }\n\n   function start(e) {\n      // set mousemove event on list item when mouse down\n      ref.current?.addEventListener('mousemove', move);\n      ref.current?.addEventListener('touchmove', move);\n      // end move if mouse leave form element\n      ref.current?.addEventListener('mouseleave', end);\n      // set start point\n      startMousePosition.current = e.clientX || e.touches[0].clientX;\n   }\n\n   function move(e) {\n      // calculate mouse movement\n      let currentMousePosition = e.clientX || e.touches[0].clientX;\n      let movement = currentMousePosition - startMousePosition.current;\n\n      // if move to right terminate function\n      if (movement > 0) return;\n\n      onSwipe(movement);\n\n      // if move to right update movement variable and move element with translate3d css function\n      setMovement(ref.current, `${movement}px`);\n      ref.current['style'].transition = 'none';\n   }\n\n   function end() {\n      // positive value of element movement\n      let movement = getTranslateValues(ref.current);\n      movement = -movement.x;\n\n      // remove transition applied to element in move\n      ref.current['style'].transition = '';\n\n      if (movement > 200) {\n         setMovement(ref.current, '-100%');\n      } else {\n         setMovement(ref.current, 0);\n      }\n\n      onSwipeEnd(movement);\n\n      // remove event listeners set in start\n      ref.current?.removeEventListener('mousemove', move);\n      ref.current?.removeEventListener('mouseleave', end);\n   }\n\n   return (\n      <Component\n         onTouchStart={start}\n         onTouchEnd={end}\n         onMouseDown={start}\n         onMouseUp={end}\n         ref={ref}\n      >\n         {children}\n      </Component>\n   );\n}\n\nfunction ChangeOrder({ index, length }) {\n   const changeOrder = useChangeOrder();\n\n   // handle change order of libraries\n   function goUp() {\n      changeOrder(index, index - 1);\n   }\n\n   function goDown() {\n      changeOrder(index, index + 1);\n   }\n\n   return (\n      <ChangeOrderContainer>\n         <ChangeOrderButton disabled={index === 0} onClick={goUp}>\n            <FontAwesomeIcon size=\"lg\" icon={faAngleUp} />\n         </ChangeOrderButton>\n         <ChangeOrderButton disabled={index === length - 1} onClick={goDown}>\n            <FontAwesomeIcon size=\"lg\" icon={faAngleDown} />\n         </ChangeOrderButton>\n      </ChangeOrderContainer>\n   );\n}\n\nexport function LibraryListItem({ library, length, index }) {\n   const [removeEffect, setRemoveEffect] = useState(true);\n\n   const flagRef = useRef();\n\n   const remove = useRemoveLibrary();\n\n   function updateFlagOpacity(movement) {\n      let elm = flagRef.current;\n      if (-movement < 200) elm['style'].opacity = -movement / 200;\n      else elm['style'].opacity = 1;\n   }\n\n   function startRemoveEffect(movement) {\n      if (movement > 200) setRemoveEffect(false);\n   }\n\n   function removeLibrary() {\n      remove(library);\n   }\n\n   return (\n      <Box round=\".25rem\" pos=\"relative\">\n         <Transition\n            onExited={removeLibrary}\n            in={removeEffect}\n            timeout={300}\n            unmountOnExit\n         >\n            {state => (\n               <RemoveFlag style={{ ...transitionStyles[state] }} ref={flagRef}>\n                  <FontAwesomeIcon size=\"lg\" icon={faTrash} />\n               </RemoveFlag>\n            )}\n         </Transition>\n\n         <Swipeable\n            component={StyledListItem}\n            onSwipeEnd={startRemoveEffect}\n            onSwipe={updateFlagOpacity}\n         >\n            {library['latest']}\n            <ChangeOrder index={index} length={length} />\n         </Swipeable>\n      </Box>\n   );\n}\n","/**\n * Gets computed translate values\n * @param {HTMLElement} element\n * @returns {Object}\n */\nexport function getTranslateValues(element) {\n   const style = window.getComputedStyle(element);\n   const matrix =\n      style['transform'] || style.webkitTransform || style.mozTransform;\n\n   // No transform property. Simply return 0 values.\n   if (matrix === 'none' || typeof matrix === 'undefined') {\n      return {\n         x: 0,\n         y: 0,\n         z: 0,\n      };\n   }\n\n   // Can either be 2d or 3d transform\n   const matrixType = matrix.includes('3d') ? '3d' : '2d';\n   const matrixValues = matrix.match(/matrix.*\\((.+)\\)/)[1].split(', ');\n\n   // 2d matrices have 6 values\n   // Last 2 values are X and Y.\n   // 2d matrices does not have Z value.\n   if (matrixType === '2d') {\n      return {\n         x: matrixValues[4],\n         y: matrixValues[5],\n         z: 0,\n      };\n   }\n\n   // 3d matrices have 16 values\n   // The 13th, 14th, and 15th values are X, Y, and Z\n   if (matrixType === '3d') {\n      return {\n         x: matrixValues[12],\n         y: matrixValues[13],\n         z: matrixValues[14],\n      };\n   }\n}\n","import { useEffect, useState } from 'react';\nimport { usePen, usePenDispatch } from '../contexts/pen-context';\nimport { useCustomAlert } from '../../alerts/useCustomAlert';\n\n/*\n * add cdn url of library to cdn array and show success alert\n * */\n\nexport function useAddLibrary() {\n   const dispatch = usePenDispatch();\n   const { showSuccessAlert } = useCustomAlert();\n\n   return function add(library) {\n      dispatch({ type: 'add-library', payload: library });\n      showSuccessAlert(`${library.name} added successfully`);\n   };\n}\n\n/*\n * remove library\n * */\n\nexport function useRemoveLibrary() {\n   const dispatch = usePenDispatch();\n   const { showSuccessAlert } = useCustomAlert();\n\n   return function remove(library) {\n      dispatch({ type: 'remove-library', payload: library });\n      showSuccessAlert(`${library.name} removed`);\n   };\n}\n\n/*\n * change order of libraries\n */\n\nexport function useChangeOrder() {\n   const dispatch = usePenDispatch();\n   const { libraries } = usePen();\n\n   return function changeOrder(a, b) {\n      // swap elements\n      let tmp = libraries[a];\n      libraries[a] = libraries[b];\n      libraries[b] = tmp;\n      // dispatch new array\n      dispatch({ type: 'update-libraries', payload: libraries });\n   };\n}\n\n/*\n * This hook fetch data from cdnjs api\n * */\n\nexport function useFetchCDNJs(text) {\n   const [results, setResults] = useState(null);\n\n   useEffect(() => {\n      if (text) {\n         let url = `https://api.cdnjs.com/libraries/?search=${text}&fields=,description,version,fileType&limit=10`;\n         fetch(url)\n            .then(res => res.json())\n            .then(res => setResults(res.results));\n      }\n      // if search box in empty hidden menu\n      else setResults(null);\n   }, [text]);\n\n   return results;\n}\n","import { ModalContent } from '../../modal/styled-modal';\nimport ModalHeader from '../../modal/ModalHeader';\nimport { Box, Divider, Text } from '../../../ui';\nimport { SearchInput } from '../../../ui/Input';\nimport styled from 'styled-components';\nimport { useState } from 'react';\nimport { useDebounce } from '../../../hooks/useDebounce';\nimport { useAddLibrary, useFetchCDNJs } from './Libraries-hooks';\nimport { usePen } from '../contexts/pen-context';\nimport { CloseIcon } from '../../../icons/icons';\nimport { LibraryListItem } from './LibraryListItem';\nimport { useCustomAlert } from '../../alerts/useCustomAlert';\n\n// styled components\nconst SearchResultList = styled.ul`\n   position: absolute;\n   background-color: var(--white);\n   margin-top: -5px;\n   padding-top: 5px;\n   width: 100%;\n   top: 100%;\n   border-radius: 0 0 0.5rem 0.5rem;\n   max-height: 20rem;\n   overflow: auto;\n   box-shadow: var(--shadow);\n`;\n\nconst StyledResultItem = styled.li`\n   color: var(--black);\n   border-bottom: 3px solid var(--text-disabled);\n   height: 5rem;\n   padding: 1rem;\n   cursor: pointer;\n   &:last-of-type {\n      border-radius: 0 0 0.5rem 0.5rem;\n      border-bottom: none;\n   }\n`;\n\nconst ClearSearchBox = styled.span`\n   // hidden button when there is no search text\n   display: ${({ show }) => !show && 'none'};\n   padding-right: 1rem;\n   position: absolute;\n   right: 0;\n   top: 50%;\n   color: var(--black);\n   opacity: 0.4;\n   z-index: var(--z-999);\n   transform: translateY(-50%);\n   cursor: pointer;\n`;\n\n// This component render search result item and handle add cdn url to library list\nfunction SearchResultItem({ data, onClick }) {\n   return (\n      <StyledResultItem onClick={onClick}>\n         <Text as=\"h4\">\n            {data.name}{' '}\n            <Text as=\"span\" textColor=\"var(--info)\">\n               {data.version}\n            </Text>\n         </Text>\n         <Text truncate>{data.description}</Text>\n      </StyledResultItem>\n   );\n}\n\nfunction SearchBox() {\n   const [searchText, setSearchText] = useState('');\n\n   const debouncedText = useDebounce(searchText, 1000);\n   const results = useFetchCDNJs(debouncedText);\n\n   // add library to pen context when click on item\n   const add = useAddLibrary();\n\n   function clearInput() {\n      setSearchText('');\n   }\n\n   // render result list if there is valid results\n   if (searchText && results && !results.error) {\n      var resultList = results.map((result, i) => (\n         <SearchResultItem key={i} data={result} onClick={() => add(result)} />\n      ));\n   }\n\n   return (\n      <Box z={1} pos=\"relative\" overflow=\"visible\" className=\"flex dir-c\">\n         <SearchInput\n            onChange={e => setSearchText(e.target.value)}\n            value={searchText}\n            placeholder=\"Search CDN\"\n         />\n\n         {/* clear search input button */}\n         <ClearSearchBox show={searchText} onClick={clearInput}>\n            <CloseIcon size=\"lg\" />\n         </ClearSearchBox>\n\n         {/* render results list */}\n         <SearchResultList>{resultList}</SearchResultList>\n      </Box>\n   );\n}\n\nfunction AddedLibraries() {\n   const { libraries } = usePen();\n\n   return (\n      <Box mt=\"2rem\" className=\"flex dir-c gap-1\">\n         <Text weight=\"600\">List of cdn links </Text>\n         <Text fStyle=\"italic\" size=\".9rem\">\n            The links are rendered in the order in which they are listed\n         </Text>\n         <Divider />\n\n         {libraries.map((lib, i) => (\n            <LibraryListItem\n               length={libraries.length}\n               index={i}\n               key={Math.random() * 10000}\n               library={lib}\n            />\n         ))}\n      </Box>\n   );\n}\n\n// This component ( module ) is for managing libraries added to project\nfunction Libraries() {\n   const { showWarningAlert } = useCustomAlert();\n\n   return (\n      <ModalContent>\n         <ModalHeader\n            title=\"Libraries\"\n            onModalClose={() => showWarningAlert('Save libraries changes')}\n         />\n         {/* Modal body */}\n         <Box h=\"26rem\" px=\".5rem\">\n            <Text as=\"h3\" mb=\"1rem\" size=\"1rem\">\n               Add External libraries and packages from CDNjs\n            </Text>\n\n            <SearchBox />\n            <AddedLibraries />\n         </Box>\n      </ModalContent>\n   );\n}\n\nexport default Libraries;\n","import styled from 'styled-components';\nimport { Button } from '../../../ui';\nimport { useToggleConsole } from '../../console/contexts/ConsoleToggle-context';\nimport { useLogout } from '../../authentication/hooks/useLogout';\nimport { useControlModal } from '../../modal/ModalProvider';\n\n// components displayed in modal\nimport Assets from '../add-assets/Assets';\nimport Libraries from '../add-libraries/Libraries';\n\nconst FooterWrapper = styled.div`\n   display: flex;\n   justify-content: space-between;\n   padding: 0.3rem;\n   border-top: 1px solid var(--dark-border);\n`;\n\nconst Footer = () => {\n   const { toggle } = useToggleConsole();\n   const { showModal } = useControlModal();\n   const logout = useLogout();\n\n   return (\n      <FooterWrapper>\n         <div className=\"flex gap-1\">\n            <Button sm onClick={toggle}>\n               Console\n            </Button>\n            <Button sm onClick={() => showModal(<Assets />)}>\n               Assets\n            </Button>\n            <Button sm onClick={() => showModal(<Libraries />)}>\n               Libraries\n            </Button>\n         </div>\n\n         <Button sm onClick={logout}>\n            Logout\n         </Button>\n      </FooterWrapper>\n   );\n};\n\nexport default Footer;\n","import { logout, useAuthDataDispatch } from '../contexts/auth-context';\n\nexport function useLogout() {\n   const dispatch = useAuthDataDispatch();\n\n   return function () {\n      dispatch(logout());\n   };\n}\n","import { createContext, useContext, useReducer } from 'react';\n\nconst ConsoleMessagesContext = createContext();\nconst ConsoleMessagesContextDispatch = createContext();\n\nexport const useConsoleMessages = () => useContext(ConsoleMessagesContext);\nexport const useConsoleMessagesDispatch = () =>\n   useContext(ConsoleMessagesContextDispatch);\n\nconst initialMessages = [];\n\nfunction consoleMessagesReducer(state, action) {\n   switch (action.type) {\n      case 'error':\n         return [...state, { ...action.payload }];\n      case 'warning':\n         return [...state, { ...action.payload }];\n      case 'log':\n         return [...state, { ...action.payload }];\n      case 'clear':\n         return initialMessages;\n      default:\n         throw new Error('unexpected type');\n   }\n}\n\nexport function ConsoleLogsProvider({ children }) {\n   const [messages, dispatch] = useReducer(\n      consoleMessagesReducer,\n      initialMessages\n   );\n\n   return (\n      <ConsoleMessagesContext.Provider value={messages}>\n         <ConsoleMessagesContextDispatch.Provider value={dispatch}>\n            {children}\n         </ConsoleMessagesContextDispatch.Provider>\n      </ConsoleMessagesContext.Provider>\n   );\n}\n\nexport function pushMessage(messageType, messageData) {\n   return { type: messageType, payload: messageData };\n}\n","import { createContext, useContext, useState } from 'react';\n\n/*\n * When you run a command on the console (bottom console bar),\n * this command returns a value that is displayed at the bottom of the input.\n * This context holds this return value\n */\n\nconst CommandLineContext = createContext();\nconst CommandLineContextDispatch = createContext();\n\n// CL ==> Command Line\nexport const useCLReturnedValue = () => useContext(CommandLineContext);\nexport const useCLReturnedValueDispatch = () =>\n   useContext(CommandLineContextDispatch);\n\nexport function CommandLineProvider({ children }) {\n   const [commandReturnedValue, setCommandReturnedValue] = useState('');\n\n   return (\n      <CommandLineContext.Provider value={commandReturnedValue}>\n         <CommandLineContextDispatch.Provider value={setCommandReturnedValue}>\n            {children}\n         </CommandLineContextDispatch.Provider>\n      </CommandLineContext.Provider>\n   );\n}\n","import {\n   pushMessage,\n   useConsoleMessagesDispatch,\n} from '../../console/contexts/ConsoleMessages-context';\nimport { useCLReturnedValueDispatch } from '../../console/contexts/CommandLine-context';\nimport { useEffect } from 'react';\n\n// this hook get messages from iframe and set relative context\nexport function useHandleIframeMessages() {\n   const consoleDispatch = useConsoleMessagesDispatch();\n   const setCommandReturnedValue = useCLReturnedValueDispatch();\n\n   useEffect(() => {\n      function handleIframeMessages(e) {\n         // get postMessage data properties\n         let { source, type, data } = e.data;\n\n         if (source === 'output-view-iframe') {\n            // The message was sent from our iframe\n\n            if (type === 'console-message') {\n               // type of console message. \"log\" , \"warning\", \"error\" and ...\n               let messageType = data.type;\n               // Send a new message to Context and display in the custom console\n               consoleDispatch(pushMessage(messageType, data));\n            } else if (type === 'command-line-return-value') {\n               setCommandReturnedValue(data);\n            }\n         }\n      }\n\n      window.addEventListener('message', handleIframeMessages);\n      return () => {\n         window.removeEventListener('message', handleIframeMessages);\n      };\n   }, [consoleDispatch, setCommandReturnedValue]);\n}\n","import styled from 'styled-components';\nimport { useSourceUrl } from '../contexts/source-url-context';\nimport { useHandleIframeMessages } from '../hooks/useHandleIframeMessages';\n\nconst OutputWrapper = styled.div`\n   flex-grow: 1;\n   height: 100%;\n   position: relative;\n`;\n\nconst Iframe = styled.iframe`\n   background-color: white;\n   border: none;\n   width: 100%;\n   height: 100%;\n`;\n\nconst Output = () => {\n   // generated document url ( using in src attribute )\n   const url = useSourceUrl();\n\n   useHandleIframeMessages();\n\n   return (\n      <OutputWrapper>\n         <Iframe\n            src={url}\n            title=\"output-window\"\n            sandbox=\"allow-downloads allow-forms allow-modals allow-pointer-lock allow-popups allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation\"\n         />\n      </OutputWrapper>\n   );\n};\n\nexport default Output;\n","import styled, { css } from 'styled-components';\n\nconst ConsoleTitle = styled.p`\n   background-color: var(--tab-bg);\n   height: 100%;\n   font-size: 0.9rem;\n   font-weight: 600;\n   color: var(--text-disabled);\n   padding: 0.3rem 1rem 0.6rem;\n   border-top: 0.3rem solid var(--tab-indicator);\n`;\n\nconst ConsoleBody = styled.div.attrs(() => ({\n   className: 'flex dir-c',\n}))`\n   background-color: var(--tab-bg);\n   flex-grow: 1;\n   overflow-y: auto;\n   height: 100%;\n   font-size: 0.9rem;\n`;\n\nconst StyledConsoleMessage = styled.pre`\n   ${({ logType }) => {\n      switch (logType) {\n         case 'error':\n            return css`\n               background-color: rgba(249, 4, 4, 0.55);\n               border: 1px solid #ff0000;\n            `;\n         case 'warning':\n            return css`\n               background-color: rgba(255, 217, 53, 0.55);\n               border: 1px solid #ffd000;\n            `;\n         default:\n            return css`\n               border: 1px solid #444444;\n            `;\n      }\n   }};\n   padding: 0.5rem 0.8rem;\n   display: flex;\n   gap: 0.5rem;\n   white-space: normal;\n`;\n\nconst StyledCommandLine = styled.code`\n   min-height: 2.2rem;\n   line-height: 2.2rem;\n   background-color: var(--command-line-bg);\n   padding: 0 0.5rem 0 2rem;\n   position: relative;\n   &:focus {\n      outline: none;\n   }\n\n   &::before {\n      position: absolute;\n      left: 0.5rem;\n      top: 0;\n      bottom: 0;\n      content: '>';\n      font-weight: 700;\n      color: #5c5cff;\n   }\n`;\n\nconst ReturnedValue = styled.pre`\n   min-height: 1.5rem;\n   line-height: 1.5rem;\n   background-color: var(--command-line-return-bg);\n   padding: 0 0.5rem 0 2rem;\n   position: relative;\n   font-size: 0.75rem;\n   font-style: italic;\n   white-space: nowrap;\n   text-overflow: ellipsis;\n   overflow: hidden;\n\n   &:focus {\n      outline: none;\n   }\n\n   &::before {\n      position: absolute;\n      left: 0.5rem;\n      top: 0;\n      bottom: 0;\n      content: '<';\n      font-weight: 700;\n   }\n`;\n\nexport {\n   ConsoleTitle,\n   ConsoleBody,\n   StyledConsoleMessage,\n   StyledCommandLine,\n   ReturnedValue,\n};\n","// console message style by type\nimport styled from 'styled-components';\n\nconst StyledNumber = styled.code`\n   color: var(--console-number);\n`;\nconst StyledString = styled.code`\n   color: var(--console-str);\n`;\n\n// FO === FormattedObject\nconst FOExpandButton = styled.span`\n   width: 0.5rem;\n   cursor: pointer;\n`;\n\nconst FOItemCount = styled.p`\n   display: inline-block;\n   opacity: 0.4;\n   font-size: 0.9rem;\n`;\n\nconst FOItemsList = styled.ul`\n   margin-left: 1.2rem;\n   margin-top: 0.5rem;\n   & > li:not(:last-of-type) {\n      margin-bottom: 0.3rem;\n   }\n`;\n\nexport { StyledNumber, StyledString, FOItemCount, FOItemsList, FOExpandButton };\n","import { useState } from 'react';\nimport { StyleByDataType } from './StyleByDataType';\n\nimport {\n   FOExpandButton,\n   FOItemCount,\n   FOItemsList,\n} from '../styled/styled-StyleByDataType';\n\n// icons\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCaretDown, faCaretRight } from '@fortawesome/free-solid-svg-icons';\n\nexport function FormattedObject({ object, array = false }) {\n   const [showItems, setShowItems] = useState(false);\n\n   let objectKeys = Object.keys(object);\n\n   function toggleList() {\n      setShowItems(!showItems);\n   }\n\n   const ObjectItemsList = objectKeys.map((key, index) => (\n      <li key={index}>\n         {key} : <StyleByDataType data={object[key]} />\n      </li>\n   ));\n\n   return (\n      <div className=\"flex inline dir-c\">\n         <div className=\"flex items-center gap-2\">\n            {/* Toggle items list button (show if item exist) */}\n            {objectKeys.length !== 0 && (\n               <FOExpandButton onClick={toggleList}>\n                  <FontAwesomeIcon\n                     icon={showItems ? faCaretDown : faCaretRight}\n                  />\n               </FOExpandButton>\n            )}\n\n            {/* display item count between object or array symbol */}\n            {array ? '[' : '{'}\n            <FOItemCount>{objectKeys.length} item</FOItemCount>\n            {array ? ']' : '}'}\n         </div>\n         {/* object items list */}\n         {showItems && <FOItemsList>{ObjectItemsList}</FOItemsList>}\n      </div>\n   );\n}\n","import { FormattedObject } from './FormattedObject';\nimport { StyledNumber, StyledString } from '../styled/styled-StyleByDataType';\n\nexport function StyleByDataType({ data }) {\n   let dataType = typeof data;\n   let isArray = Array.isArray(data);\n\n   if (dataType === 'string') {\n      return <StyledString>{`'${data}'`}</StyledString>;\n   }\n   if (dataType === 'object') {\n      return <FormattedObject object={data} array={isArray} />;\n   }\n   if (\n      dataType === 'number' ||\n      dataType === 'boolean' ||\n      dataType === 'undefined'\n   ) {\n      return <StyledNumber>{String(data)}</StyledNumber>;\n   }\n\n   return null;\n}\n","import { StyledConsoleMessage } from '../styled/styled-Console';\nimport { StyleByDataType } from './StyleByDataType';\n\nfunction ConsoleMessage({ dataArray, type }) {\n   return (\n      <StyledConsoleMessage logType={type}>\n         {dataArray.map((data, index) => (\n            <StyleByDataType key={index} data={data} />\n         ))}\n      </StyledConsoleMessage>\n   );\n}\n\nexport default ConsoleMessage;\n","import { ReturnedValue, StyledCommandLine } from '../styled/styled-Console';\nimport { useCLReturnedValue } from '../contexts/CommandLine-context';\n\nfunction CommandLine() {\n   const commandReturnedValue = useCLReturnedValue();\n\n   function executeRunCommand(e) {\n      // execute run command function when click on Enter button\n      if (e.keyCode === 13) {\n         e.preventDefault();\n\n         if (e.target.innerText) {\n            window.frames[0].frameElement.contentWindow.runCommand(\n               e.target.innerText\n            );\n         }\n\n         e.target.innerText = '';\n      }\n   }\n\n   return (\n      <div className=\"flex dir-c\">\n         <StyledCommandLine\n            id=\"console-command-line\"\n            spellCheck=\"false\"\n            contentEditable\n            onKeyDown={executeRunCommand}\n         />\n\n         <ReturnedValue>\n            {JSON.stringify(commandReturnedValue) || 'undefined'}\n         </ReturnedValue>\n      </div>\n   );\n}\n\nexport default CommandLine;\n","import { Fragment } from 'react';\nimport { Button, Spacing } from '../../../ui';\nimport { useToggleConsole } from '../contexts/ConsoleToggle-context';\nimport {\n   useConsoleMessages,\n   useConsoleMessagesDispatch,\n} from '../contexts/ConsoleMessages-context';\nimport ConsoleMessage from './ConsoleMessage';\nimport CommandLine from './CommandLine';\n\nimport { ConsoleTitle, ConsoleBody } from '../styled/styled-Console';\n\n// icons\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nfunction Console() {\n   const dispatch = useConsoleMessagesDispatch();\n   const messages = useConsoleMessages();\n\n   const { toggle } = useToggleConsole();\n\n   function clearConsole() {\n      dispatch({ type: 'clear' });\n   }\n\n   return (\n      <div className=\"flex dir-c\" style={{ height: '100%' }}>\n         {/* Console header */}\n         <div className=\"flex items-center justify-between\">\n            <ConsoleTitle>Console</ConsoleTitle>\n\n            <Spacing className=\"flex inline gap-1\" mr=\".5rem\">\n               <Button sm onClick={clearConsole}>\n                  Clear\n               </Button>\n\n               <Button sm onClick={toggle}>\n                  <FontAwesomeIcon icon={faTimes} />\n               </Button>\n            </Spacing>\n         </div>\n\n         <ConsoleBody>\n            {messages.map((message, index) => (\n               <Fragment key={index}>\n                  {message.type === 'error' && (\n                     <ConsoleMessage\n                        type=\"error\"\n                        key={index}\n                        dataArray={message.array}\n                     />\n                  )}\n\n                  {message.type === 'warning' && (\n                     <ConsoleMessage\n                        type=\"warning\"\n                        key={index}\n                        dataArray={message.array}\n                     />\n                  )}\n\n                  {message.type === 'log' && (\n                     <ConsoleMessage key={index} dataArray={message.array} />\n                  )}\n               </Fragment>\n            ))}\n         </ConsoleBody>\n\n         <CommandLine />\n      </div>\n   );\n}\n\nexport default Console;\n","import styled from 'styled-components';\nimport { Text } from '../../../ui';\nimport AceEditor from 'react-ace';\nimport { updateCode, usePenDispatch } from '../contexts/pen-context';\nimport { useCustomAlert } from '../../alerts/useCustomAlert';\nimport {\n   useUnsavedChangesCount,\n   useUnsavedChangesDispatch,\n} from '../contexts/unsaved-changes-context';\n\nimport 'ace-builds/src-noconflict/mode-javascript';\nimport 'ace-builds/src-noconflict/mode-css';\nimport 'ace-builds/src-noconflict/mode-html';\nimport 'ace-builds/src-noconflict/theme-twilight';\n\nconst EditorWrapper = styled.div`\n   height: 100%;\n   display: flex;\n   flex-direction: column;\n   &:not(:last-of-type) {\n      border-bottom: 1px solid var(--dark-border);\n   }\n`;\n\nconst EditorHeader = styled.div`\n   display: flex;\n   align-items: center;\n   gap: 1rem;\n   background-color: var(--dark-bg);\n   padding: 0.5rem 1rem;\n`;\n\nconst Editor = ({ iconSrc, ...rest }) => {\n   const unsavedChanges = useUnsavedChangesCount();\n   const PenDispatch = usePenDispatch();\n   const unsavedChangesDispatch = useUnsavedChangesDispatch();\n   const { showWarningAlert } = useCustomAlert();\n\n   function handleChangeSource(code) {\n      // increment unsaved changes\n      unsavedChangesDispatch(prev => prev + 1);\n      // show warning alert for saving\n      if (unsavedChanges % 50 === 0 && unsavedChanges !== 0) {\n         showWarningAlert(`There is ${unsavedChanges} unsaved changes`);\n      }\n      // update pen context with new code\n      PenDispatch(updateCode(rest.mode, code));\n   }\n\n   return (\n      <EditorWrapper>\n         <EditorHeader>\n            <img alt=\"lang-icon\" width={20} src={iconSrc} />\n            <Text textTransform=\"uppercase\" as=\"h4\">\n               {rest.mode === 'javascript' ? 'js' : rest.mode}\n            </Text>\n         </EditorHeader>\n\n         <AceEditor\n            onChange={handleChangeSource}\n            theme=\"twilight\"\n            fontSize=\"1rem\"\n            width=\"100%\"\n            height=\"100%\"\n            {...rest}\n         />\n      </EditorWrapper>\n   );\n};\n\nexport default Editor;\n","import { createContext, useContext, useState } from 'react';\n\nconst ToggleOutput = createContext();\nconst ToggleOutputDispatch = createContext();\n\nexport const useToggleOutput = () => useContext(ToggleOutput);\nexport const useToggleOutputDispatch = () => useContext(ToggleOutputDispatch);\n\nexport function ToggleOutputProvider({ children }) {\n   const [open, setOpen] = useState(true);\n\n   return (\n      <ToggleOutput.Provider value={open}>\n         <ToggleOutputDispatch.Provider value={setOpen}>\n            {children}\n         </ToggleOutputDispatch.Provider>\n      </ToggleOutput.Provider>\n   );\n}\n","import { Button, ButtonGroup, Divider, Spacing } from '../../../ui';\nimport { useState } from 'react';\nimport Editor from './Editor';\nimport { usePen } from '../contexts/pen-context';\nimport { useToggleOutputDispatch } from '../contexts/toggle-output-context';\n\nfunction MobileEditors() {\n   const [activeEditor, setActiveEditor] = useState('html');\n\n   const setOpenOutput = useToggleOutputDispatch();\n\n   const { code } = usePen();\n\n   function toggleResult() {\n      setOpenOutput(prev => !prev);\n   }\n\n   return (\n      <div className=\"flex dir-c\">\n         <Spacing className=\"flex items-center justify-between\" p=\".5rem\">\n            {/* Select editor buttons */}\n            <ButtonGroup>\n               <Button onClick={() => setActiveEditor('html')}>HTML</Button>\n               <Button onClick={() => setActiveEditor('css')}>CSS</Button>\n               <Button onClick={() => setActiveEditor('javascript')}>JS</Button>\n               <Button onClick={toggleResult}>Result</Button>\n            </ButtonGroup>\n         </Spacing>\n\n         <Divider />\n\n         {/*  Selected Editor */}\n         <Editor\n            mode={activeEditor}\n            name={activeEditor + 'editor'}\n            value={code[activeEditor]}\n            iconSrc={`/static/images/${activeEditor}.svg`}\n         />\n      </div>\n   );\n}\n\nexport default MobileEditors;\n","import Editor from './Editor';\nimport { Resizable } from '../../../ui';\nimport { useViewLayout } from '../view-layout/ViewLayout-context';\nimport { usePen } from '../contexts/pen-context';\n\nconst editors = [\n   { mode: 'html', name: 'html-editor', iconSrc: '/static/images/html.svg' },\n   { mode: 'css', name: 'css-editor', iconSrc: '/static/images/css.svg' },\n   {\n      mode: 'javascript',\n      name: 'js-editor',\n      iconSrc: '/static/images/javascript.svg',\n   },\n];\n\nfunction DesktopEditors() {\n   const { editors: layout } = useViewLayout();\n\n   const { code } = usePen();\n\n   return (\n      <Resizable orientation={layout.orientation} minSize={38}>\n         {editors.map(editorProps => (\n            <Editor {...editorProps} value={code[editorProps.mode]} />\n         ))}\n      </Resizable>\n   );\n}\n\nexport default DesktopEditors;\n","import { useEffect } from 'react';\nimport { Resizable } from '../../../ui';\nimport Output from '../components/Output';\nimport Console from '../../console/components/Console';\nimport { useToggleConsole } from '../../console/contexts/ConsoleToggle-context';\nimport MobileEditors from '../components/MobileEditors';\nimport DesktopEditors from '../components/DesktopEditors';\nimport { useToggleOutput } from '../contexts/toggle-output-context';\nimport { useDeviceDetect } from '../../../hooks/useDeviceDetect';\nimport {\n   useViewLayout,\n   useViewLayoutDispatch,\n   vertical,\n} from './ViewLayout-context';\n\n// This component layout editors and output window responsively\nfunction ViewLayout() {\n   const { isDesktop, isMobile } = useDeviceDetect();\n\n   const { wrapper } = useViewLayout();\n   const dispatch = useViewLayoutDispatch();\n\n   const { isOpen: consoleOpen } = useToggleConsole();\n   const outputOpen = useToggleOutput();\n\n   // vertical editor in mobile\n   useEffect(() => {\n      if (isMobile) dispatch(vertical());\n   }, [isMobile]);\n\n   return (\n      <Resizable orientation={wrapper.orientation} minSize={200}>\n         {isDesktop && <DesktopEditors />}\n         {isMobile && <MobileEditors />}\n\n         {outputOpen && (\n            <Resizable orientation=\"vertical\">\n               <Output />\n               {consoleOpen && <Console />}\n            </Resizable>\n         )}\n      </Resizable>\n   );\n}\n\nexport default ViewLayout;\n","import { useCallback, useEffect, useState } from 'react';\n\nexport function useDeviceDetect() {\n   const [isDesktop, setIsDesktop] = useState(false);\n   const [isMobile, setIsMobile] = useState(false);\n\n   const detectDevice = useCallback(() => {\n      if (window.innerWidth > 601) {\n         setIsDesktop(true);\n         setIsMobile(false);\n      } else {\n         setIsMobile(true);\n         setIsDesktop(false);\n      }\n   }, []);\n\n   useEffect(() => {\n      detectDevice();\n      window.addEventListener('resize', detectDevice);\n      return () => window.removeEventListener('resize', detectDevice);\n   }, [detectDevice]);\n\n   return { isDesktop, isMobile };\n}\n","import { Button } from '../ui';\nimport { Link } from 'react-router-dom';\n\nfunction Page404() {\n   return (\n      <div className=\"flex dir-c items-center justify-center gap-5\">\n         <h1>404</h1>\n         <h2>Page not found</h2>\n         <Link to=\"/\">\n            <Button>Go home</Button>\n         </Link>\n      </div>\n   );\n}\n\nexport default Page404;\n","import { useModal } from './ModalProvider';\nimport { ModalWindow } from './styled-modal';\n\nfunction Modal() {\n   const modalContent = useModal();\n\n   return <ModalWindow show={modalContent}>{modalContent}</ModalWindow>;\n}\n\nexport default Modal;\n","import { cloneElement, Fragment } from 'react';\n\nfunction nest(children, component) {\n   return cloneElement(component, {}, children);\n}\n\nfunction MultiProvider({ providers, children }) {\n   return <Fragment>{providers.reduceRight(nest, children)}</Fragment>;\n}\n\nexport default MultiProvider;\n","import { useEffect } from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport ViewLayout from '../view-layout/ViewLayout';\nimport { db } from '../../../indexedDB';\nimport Page404 from '../../../components/404';\nimport Modal from '../../modal/Modal';\nimport { useLiveQuery } from 'dexie-react-hooks';\nimport { initialize, usePenDispatch } from '../contexts/pen-context';\n\n// context providers\nimport { PenProvider } from '../contexts/pen-context';\nimport { ViewLayoutProvider } from '../view-layout/ViewLayout-context';\nimport { ToggleConsoleProvider } from '../../console/contexts/ConsoleToggle-context';\nimport { ConsoleLogsProvider } from '../../console/contexts/ConsoleMessages-context';\nimport { SourceUrlProvider } from '../contexts/source-url-context';\nimport { CommandLineProvider } from '../../console/contexts/CommandLine-context';\nimport { UnsavedChangesProvider } from '../contexts/unsaved-changes-context';\nimport MultiProvider from '../../../utils/MultiProvider';\nimport { ToggleOutputProvider } from '../contexts/toggle-output-context';\n\nconst providers = [\n   <PenProvider />,\n   <UnsavedChangesProvider />,\n   <ViewLayoutProvider />,\n   <ToggleConsoleProvider />,\n   <ConsoleLogsProvider />,\n   <SourceUrlProvider />,\n   <CommandLineProvider />,\n   <ToggleOutputProvider />,\n];\n\n// This component receives information from IDB and renders the appropriate response\nfunction PenContent({ content }) {\n   const dispatch = usePenDispatch();\n\n   // initialize pen\n   useEffect(() => {\n      if (content && !content.error) dispatch(initialize(content));\n   }, [content, dispatch]);\n\n   // Show the appropriate response if there is no content\n   if (!content) return null;\n   if (content.error) return <Page404 />;\n\n   return (\n      <div className=\"flex dir-c\">\n         <Header />\n         <ViewLayout />\n         <Footer />\n         <Modal />\n      </div>\n   );\n}\n\nconst Pen = ({ match }) => {\n   const id = match.params.id;\n\n   // get pen info from IDB\n   const content = useLiveQuery(async () => {\n      try {\n         return await db.pens.get(Number(id));\n      } catch (error) {\n         return { error: true, message: 'not-found' };\n      }\n   });\n\n   return (\n      <MultiProvider providers={providers}>\n         <PenContent content={content} />\n      </MultiProvider>\n   );\n};\n\nexport default Pen;\n","import { Redirect, Route } from 'react-router-dom';\nimport { useAuthData } from '../contexts/auth-context';\n\nexport const PrivateRoute = props => {\n   const { component: Component, ...rest } = props;\n\n   const { isAuthenticated } = useAuthData();\n\n   const render = renderProps => {\n      if (isAuthenticated) {\n         return <Component {...renderProps} />;\n      } else {\n         // redirect to login page if user not logged in\n         return <Redirect to=\"/login\" />;\n      }\n   };\n\n   return <Route {...rest} render={render} />;\n};\n","import { Redirect, Route } from 'react-router-dom';\nimport { useAuthData } from '../contexts/auth-context';\n\nexport const PublicRoute = props => {\n   const { component: Component, restricted = false, ...rest } = props;\n\n   const { isAuthenticated } = useAuthData();\n\n   const render = renderProps => {\n      if (isAuthenticated && restricted) {\n         // return user to editor if user authenticated\n         return <Redirect to=\"/my-works\" />;\n      } else {\n         return <Component {...renderProps} />;\n      }\n   };\n\n   return <Route {...rest} render={render} />;\n};\n","import { AuthApi } from '../api/auth-api';\nimport {\n   loading,\n   success,\n   useAuthDataDispatch,\n} from '../contexts/auth-context';\n\nexport function useAuthentication() {\n   const dispatch = useAuthDataDispatch();\n\n   return function (userData) {\n      dispatch(loading());\n      AuthApi(userData).then(res => {\n         dispatch(success(res));\n      });\n   };\n}\n","export function AuthApi(data) {\n   const loginPromise = new Promise((resolve, _) => {\n      setTimeout(() => {\n         resolve({ token: Math.floor(Math.random() * 1000000), ...data });\n      }, 3000);\n   });\n\n   return loginPromise;\n}\n","export const REQUIRED_FIELD = 'This field is required';\nexport const VALID_EMAIL = 'Please fill a valid email';\nexport const SAFE_PASSWORD =\n   'Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters';\n","import {\n   Field,\n   Form,\n   Submit,\n   ErrorMessage,\n   Container,\n   FieldGroup,\n   Divider,\n} from '../../../ui';\n\nimport { useForm } from 'react-hook-form';\nimport { useAuthentication } from '../hooks/useAuthentication';\n\n// messages\nimport { REQUIRED_FIELD, SAFE_PASSWORD, VALID_EMAIL } from '../utils/constants';\n\nexport function Login() {\n   const {\n      register,\n      handleSubmit,\n      formState: { errors },\n   } = useForm();\n\n   const authentication = useAuthentication();\n\n   function onSubmit(data) {\n      authentication(data);\n   }\n\n   return (\n      <Container pt=\"5rem\" maxWidth=\"24rem\">\n         <Form id=\"login-form\" onSubmit={handleSubmit(onSubmit)}>\n            <h1>Login</h1>\n\n            <Divider />\n\n            <FieldGroup>\n               <label htmlFor=\"email-field\">Email</label>\n\n               <Field\n                  {...register('email', {\n                     required: true,\n                     pattern: /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/,\n                  })}\n                  id=\"email-field\"\n                  autoComplete=\"off\"\n               />\n\n               <ErrorMessage>\n                  {errors?.email?.type === 'pattern' && VALID_EMAIL}\n                  {errors?.email?.type === 'required' && REQUIRED_FIELD}\n               </ErrorMessage>\n            </FieldGroup>\n\n            <FieldGroup>\n               <label htmlFor=\"password-field\">Password</label>\n\n               <Field\n                  {...register('password', {\n                     required: true,\n                     pattern: /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/,\n                  })}\n                  id=\"password-field\"\n                  type=\"password\"\n                  autoComplete=\"off\"\n               />\n\n               <ErrorMessage>\n                  {errors?.password?.type === 'pattern' && SAFE_PASSWORD}\n                  {errors?.password?.type === 'required' && REQUIRED_FIELD}\n               </ErrorMessage>\n            </FieldGroup>\n\n            <Submit value=\"Submit\" />\n         </Form>\n      </Container>\n   );\n}\n","import {\n   ErrorMessage,\n   Field,\n   Form,\n   Submit,\n   Divider,\n   Container,\n   FieldGroup,\n} from '../../../ui';\n\nimport { useForm } from 'react-hook-form';\nimport { useAuthentication } from '../hooks/useAuthentication';\n\n// messages\nimport { REQUIRED_FIELD, SAFE_PASSWORD, VALID_EMAIL } from '../utils/constants';\n\nexport function Register() {\n   const {\n      register,\n      handleSubmit,\n      formState: { errors },\n   } = useForm();\n\n   const authentication = useAuthentication();\n\n   function onSubmit(data) {\n      authentication(data);\n   }\n\n   return (\n      <Container pt=\"5rem\" maxWidth=\"24rem\">\n         <Form onSubmit={handleSubmit(onSubmit)}>\n            <h1>Register</h1>\n\n            <Divider />\n\n            <FieldGroup>\n               <label htmlFor=\"username-field\">Username</label>\n\n               <Field\n                  {...register('username', { required: true })}\n                  id=\"username-field\"\n                  autoComplete=\"off\"\n               />\n\n               <ErrorMessage>\n                  {errors.username?.type === 'required' && REQUIRED_FIELD}\n               </ErrorMessage>\n            </FieldGroup>\n\n            <FieldGroup>\n               <label htmlFor=\"email-field\">Email</label>\n\n               <Field\n                  {...register('email', {\n                     required: true,\n                     pattern: /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/,\n                  })}\n                  id=\"email-field\"\n                  autoComplete=\"off\"\n               />\n\n               <ErrorMessage>\n                  {errors.email?.type === 'required' && REQUIRED_FIELD}\n                  {errors.email?.type === 'pattern' && VALID_EMAIL}\n               </ErrorMessage>\n            </FieldGroup>\n\n            <FieldGroup>\n               <label htmlFor=\"password-field\">Password</label>\n\n               <Field\n                  {...register('password', {\n                     required: true,\n                     pattern: /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/,\n                  })}\n                  type=\"password\"\n                  id=\"password-field\"\n                  autoComplete=\"off\"\n               />\n\n               <ErrorMessage>\n                  {errors.password?.type === 'required' && REQUIRED_FIELD}\n                  {errors.password?.type === 'pattern' && SAFE_PASSWORD}\n               </ErrorMessage>\n            </FieldGroup>\n\n            <Submit value=\"Submit\" />\n         </Form>\n      </Container>\n   );\n}\n","import {\n   Button,\n   Container,\n   Divider,\n   Dropdown,\n   Spacing,\n   Menu,\n   MenuItem,\n   Box,\n} from '../ui';\nimport styled from 'styled-components';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useCustomAlert } from '../modules/alerts/useCustomAlert';\n\n// icons\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n   faCode,\n   faEllipsisH,\n   faPlus,\n   faTrash,\n} from '@fortawesome/free-solid-svg-icons';\n\n// dexie\nimport { db } from '../indexedDB';\nimport { initialPen } from '../modules/pen/contexts/pen-context';\nimport { useLiveQuery } from 'dexie-react-hooks';\n\n// styles\n\nconst WorkLink = styled(Link)`\n   & > img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n   }\n   overflow: hidden;\n   border-radius: 0.5rem;\n   margin-top: -1.5rem;\n`;\n\nconst WorkBody = styled(Spacing).attrs(() => ({\n   className: 'flex dir-c',\n   p: '.75rem',\n}))`\n   background-color: var(--work-body-bg);\n   border-radius: 0.75rem;\n   position: relative;\n\n   // handle hover animation\n   &::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: -1;\n      border-radius: 0.75rem;\n      background-color: var(--work-body-bg);\n      transition: top 0.2s ease 0.1s;\n   }\n\n   &:hover::before {\n      top: -1.5rem;\n   }\n`;\n\nconst WorkInfo = styled(Spacing).attrs(() => ({\n   className: 'flex justify-between',\n   px: '.5rem',\n   mt: '.75rem',\n}))`\n   & > p {\n      font-size: 0.9rem;\n      font-weight: 700;\n   }\n`;\n\nconst AddNewWorkBtn = styled.div.attrs(() => ({\n   className: 'flex items-center justify-center',\n}))`\n   background-color: var(--work-body-bg);\n   border-radius: 0.75rem;\n   cursor: pointer;\n   opacity: 0.7;\n   transition: opacity 0.2s ease 0.1s;\n   height: 100%;\n   &:hover {\n      opacity: 1;\n   }\n\n   & > svg {\n      color: var(--dark-btn);\n   }\n`;\n\nfunction Work({ title, imageSrc, id }) {\n   const { showSuccessAlert } = useCustomAlert();\n\n   async function deleteWork() {\n      await db.pens.delete(id);\n      showSuccessAlert('Pen successfully deleted');\n   }\n\n   const DropdownToggleButton = (\n      <Button sm title=\"Actions\">\n         <FontAwesomeIcon icon={faEllipsisH} />\n      </Button>\n   );\n\n   const DropdownContent = (\n      <Menu>\n         <MenuItem as={Link} to={`/pen/${id}`} icon={faCode}>\n            Edit\n         </MenuItem>\n\n         <MenuItem icon={faTrash} onClick={deleteWork}>\n            Delete\n         </MenuItem>\n      </Menu>\n   );\n\n   return (\n      <WorkBody>\n         <WorkLink to={`pen/${id}`}>\n            <img alt={title} src={imageSrc} />\n         </WorkLink>\n\n         <WorkInfo>\n            <p>{title}</p>\n\n            <Dropdown openFrom=\"left\" action={DropdownToggleButton}>\n               {DropdownContent}\n            </Dropdown>\n         </WorkInfo>\n      </WorkBody>\n   );\n}\n\nfunction AddNewWork() {\n   const history = useHistory();\n\n   async function handleAddNewWork() {\n      // create new id\n      const id = Math.floor(Math.random() * 1000000);\n\n      // add new pen\n      await db.pens.add({ id, ...initialPen });\n\n      // redirect to new pen\n      return history.push(`/pen/${id}`);\n   }\n\n   return (\n      <AddNewWorkBtn onClick={handleAddNewWork} title=\"Create new pen\">\n         <FontAwesomeIcon size=\"4x\" icon={faPlus} />\n      </AddNewWorkBtn>\n   );\n}\n\nfunction MyWorks() {\n   // Get all works from IDB\n   const works = useLiveQuery(() => db.pens.toArray(), []);\n\n   return (\n      <Container maxWidth=\"70rem\" p=\"4rem 1rem\">\n         <h1>My works</h1>\n         <Divider />\n         <Box py=\"3rem\" className=\"flex wrap gap-3 gap-y-8\">\n            {works &&\n               works.map(work => (\n                  <div key={work.id} className=\"f-item m6 l4\">\n                     <Work\n                        id={work.id}\n                        title={work.title}\n                        imageSrc={work.image}\n                     />\n                  </div>\n               ))}\n\n            <Box minH=\"12rem\" className=\"f-item m6 l4\">\n               <AddNewWork />\n            </Box>\n         </Box>\n      </Container>\n   );\n}\n\nexport default MyWorks;\n","import { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport HomePage from './HomePage';\nimport Pen from '../modules/pen/components/Pen';\nimport {\n   PrivateRoute,\n   PublicRoute,\n   Login,\n   Register,\n} from '../modules/authentication/components';\nimport MyWorks from './MyWorks';\nimport Page404 from './404';\n\nfunction App() {\n   return (\n      <BrowserRouter>\n         <Switch>\n            <PrivateRoute exact path=\"/my-works\" component={MyWorks} />\n            <PublicRoute exact restricted path=\"/login\" component={Login} />\n            <PublicRoute\n               exact\n               restricted\n               path=\"/register\"\n               component={Register}\n            />\n            <PrivateRoute exact path=\"/pen/:id\" component={Pen} />\n            <PublicRoute exact path=\"/\" component={HomePage} />\n\n            {/* not found page */}\n            <Route component={Page404} />\n         </Switch>\n      </BrowserRouter>\n   );\n}\n\nexport default App;\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  :root {\n    --white: #fff;\n    --black : #000;\n    --dark-bg: #060606;\n    --dark-bg-transparent: #0606067F;\n    --paper: #131417;\n    --paper-border: #252830;\n    --dark-btn: #444857;\n    --dark-bth-hover: #5a5f73;\n    --dark-border: #2f2f2f;\n    --contrast-text: #fff;\n    --text-disabled: #aaaebc;\n    --tab-bg: #1d1e22;\n    --tab-indicator: #34363e;\n    --dropdown-bg: #1e1f26;\n    --command-line-bg: #ffffff2e;\n    --command-line-return-bg: #ffffff21;\n    --divider-bg: #4b4b4b;\n    --z-alerts: 1100;\n    --z-999: 999;\n    --z-100: 100;\n    --z-50: 50;\n    --z-30: 30;\n    --z-10: 10;\n    --form-border: #223851;\n    --form-submit-bg: #26b026;\n    --field-border: #cccccc;\n    --field-border-focus: #b190ff;\n    --form-error-text: #ff4949;\n    --work-body-bg: #1e1f26;\n    --menu-bg: #fff;\n    --menu-text: #000;\n    --menu-item-hover: #cfd2d7;\n    --error: #ff3f3f;\n    --warning: #fbc803;\n    --info: #6d6dff;\n    --success: #37F900;\n    --console-number: #8080ff;\n    --console-str: #4bffdb;\n    --input-bg: #e3e4e8;\n    --shadow: 0 0 5px 0 #2b2b2b;\n  }\n\n  html {\n    box-sizing: border-box;\n    font-size: calc(60% + 0.8vmin);\n  }\n\n  *, *:after, *:before {\n    box-sizing: inherit;\n    padding: 0;\n    margin: 0;\n  }\n\n  body {\n    color: var(--contrast-text);\n    background-color: var(--dark-bg);\n    font-family: 'Open Sans', sans-serif;\n    letter-spacing: 1px;\n    user-select: none;\n  }\n\n  #root {\n    overflow-y: auto;\n    height: 100vh;\n  }\n\n  #root > div {\n    height: 100%;\n  }\n\n  ul {\n    list-style: none;\n  }\n\n  // reset link style\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n\n  // reset input default style\n  button, input, select, textarea {\n    font-family: inherit;\n    font-size: 100%;\n    letter-spacing: inherit;\n  }\n\n  input {\n    appearance: none;\n    border: none;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  button {\n    color: inherit;\n    border: none;\n    cursor: pointer;\n    background-color: inherit;\n\n    &:focus {\n      outline: 0;\n    }\n  }\n`;\n\nexport default GlobalStyle;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport { db, stores } from './indexedDB';\n\n// global styles\nimport GlobalStyle from './ui/GlobalStyle';\nimport './ui/css/responsive-utilities.css';\n\n// context providers\nimport { AuthDataProvider } from './modules/authentication/contexts/auth-context';\nimport { AlertsProvider } from './modules/alerts/AlertsProvider';\nimport { ModalProvider } from './modules/modal/ModalProvider';\nimport MultiProvider from './utils/MultiProvider';\n\nconst providers = [<AuthDataProvider />, <AlertsProvider />, <ModalProvider />];\n\n// config dexie\ndb.version(1).stores(stores);\n\nReactDOM.render(\n   <React.StrictMode>\n      <GlobalStyle />\n      <MultiProvider providers={providers}>\n         <App />\n      </MultiProvider>\n   </React.StrictMode>,\n   document.getElementById('root')\n);\n"],"sourceRoot":""}